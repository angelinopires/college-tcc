(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{RxRK:function(t,e,n){"use strict";n.r(e),n.d(e,"ExternalModule",(function(){return pt}));var a=n("ofXK"),i=n("3Pt+"),o=n("tyNb"),c=n("mrSG"),r=n("R0Ic"),l=n("Dh3D"),b=n("+0xr"),d=n("wd/R"),m=n("1ua0"),s=n("vglk"),u=n("QMTT"),p=n("E2f4"),g=n("Edqf"),f=n("fXoL"),h=n("0IaG"),_=n("kmnG"),C=n("qFsG"),P=n("NFeN"),S=n("iadO"),O=n("bTqV"),M=n("EbQt");function v(t,e){1&t&&(f.Sb(0,"mat-header-cell",30),f.Ac(1,"#"),f.Rb())}function w(t,e){if(1&t&&(f.Sb(0,"mat-cell",31),f.Ac(1),f.Rb()),2&t){var n=e.$implicit;f.Bb(1),f.Cc(" ",n.id," ")}}function y(t,e){1&t&&(f.Sb(0,"mat-header-cell",30),f.Ac(1,"Observa\xe7\xe3o"),f.Rb())}function R(t,e){if(1&t&&(f.Sb(0,"mat-cell",32),f.Ac(1),f.Rb()),2&t){var n=e.$implicit;f.Bb(1),f.Cc(" ",n.description," ")}}function D(t,e){1&t&&(f.Sb(0,"mat-header-cell",30),f.Ac(1,"Tipo de Unidade"),f.Rb())}function x(t,e){if(1&t&&(f.Sb(0,"mat-cell",33),f.Ac(1),f.Rb()),2&t){var n=e.$implicit;f.Bb(1),f.Cc(" ",n.unity," ")}}function A(t,e){1&t&&(f.Sb(0,"mat-header-cell",30),f.Ac(1,"Quantidade"),f.Rb())}function I(t,e){if(1&t&&(f.Sb(0,"mat-cell",34),f.Ac(1),f.Rb()),2&t){var n=e.$implicit;f.Bb(1),f.Cc(" ",n.amount," ")}}function B(t,e){1&t&&(f.Sb(0,"mat-header-cell"),f.Ac(1,"Preco"),f.Rb())}function k(t,e){if(1&t){var n=f.Tb();f.Sb(0,"mat-cell",35),f.Sb(1,"div"),f.Sb(2,"mat-form-field",3),f.Sb(3,"mat-label"),f.Ac(4,"Preco"),f.Rb(),f.Sb(5,"input",36),f.Zb("input",(function(t){f.qc(n);var a=e.$implicit;return f.dc().onInputChange(t.target.value,a)})),f.Rb(),f.Rb(),f.Rb(),f.Rb()}}function j(t,e){1&t&&(f.Sb(0,"mat-header-cell",30),f.Ac(1,"Subtotal"),f.Rb())}function E(t,e){if(1&t&&(f.Sb(0,"mat-cell",37),f.Ac(1),f.ec(2,"currencyBrl"),f.Rb()),2&t){var n=e.$implicit,a=f.dc();f.Bb(1),f.Cc(" ",f.fc(2,1,n.amount*a.getPriceOfMaterialById(n.id))," ")}}function T(t,e){1&t&&f.Nb(0,"mat-header-row")}function N(t,e){1&t&&f.Nb(0,"mat-row",38)}function F(t,e){if(1&t){var n=f.Tb();f.Sb(0,"div",6),f.Sb(1,"div",39),f.Sb(2,"h4",8),f.Ac(3,"Passo 02"),f.Rb(),f.Sb(4,"p",9),f.Ac(5,"Insira o valor do frente e confira o total"),f.Rb(),f.Rb(),f.Sb(6,"form",40),f.Zb("submit",(function(){return f.qc(n),f.dc().sendPrices()})),f.Sb(7,"div",41),f.Sb(8,"div",42),f.Sb(9,"mat-form-field",3),f.Sb(10,"mat-label"),f.Ac(11,"Valor do frete"),f.Rb(),f.Nb(12,"input",43),f.Rb(),f.Rb(),f.Sb(13,"div",42),f.Sb(14,"mat-form-field",3),f.Sb(15,"mat-label"),f.Ac(16,"Data de entrega"),f.Rb(),f.Nb(17,"input",44),f.Nb(18,"mat-datepicker-toggle",45),f.Nb(19,"mat-datepicker",null,46),f.Rb(),f.Rb(),f.Sb(21,"div",42),f.Sb(22,"p",47),f.Ac(23),f.ec(24,"currencyBrl"),f.Rb(),f.Rb(),f.Rb(),f.Sb(25,"div",41),f.Sb(26,"div",48),f.Sb(27,"button",49),f.Ac(28,"Enviar"),f.Rb(),f.Rb(),f.Rb(),f.Rb(),f.Rb()}if(2&t){var a=f.oc(20),i=f.dc();f.Bb(6),f.ic("formGroup",i.priceForm),f.Bb(11),f.ic("min",i.minDate)("matDatepicker",a),f.Bb(1),f.ic("for",a),f.Bb(5),f.Cc("Total: ",f.fc(24,6,i.getTotalPrice()),""),f.Bb(4),f.ic("disabled",i.priceForm.invalid)}}var Q=function(){function t(t,e,n,a,o,c){this._dialog=t,this._loadingService=e,this._priceService=n,this._storageService=a,this.activatedRoute=o,this.fb=c,this.dataSource=new b.o,this.columnsToDisplay=["id","description","unityType","amount","price","subtotal"],this.priceStatusEnum=g.b,this.materialsWithPrices=[],this.minDate=new Date,this.priceForm=this.fb.group({suggestedDate:["",i.r.required],fare:["",i.r.required]})}return t.prototype.ngOnInit=function(){this._getPriceId(),this._getUser(),this._setPricesList()},t.prototype.ngAfterViewInit=function(){this.dataSource.sort=this.sort},t.prototype.ngOnDestroy=function(){this.pricesMaterialSubscription&&this.pricesMaterialSubscription.unsubscribe()},t.prototype.applyFilter=function(t){this.dataSource.filter=t.trim().toLocaleLowerCase()},t.prototype.getMaterialsPrices=function(t){var e=this.dataSource.data.filter((function(e){return e.priceId===t}));this.dataSource=new b.o(e)},t.prototype.onInputChange=function(t,e){if(t&&e){var n=this.materialsWithPrices.map((function(n){return n.id===e.id&&(n.unityPrice=Number(t)),n}));this.materialsWithPrices=n}},t.prototype.getPriceOfMaterialById=function(t){return this.materialsWithPrices.find((function(e){return e.id===t})).unityPrice},t.prototype.getTotalPrice=function(){var t=this.priceForm.value.fare,e=0;return this.materialsWithPrices.map((function(t){t.amount&&t.unityPrice&&(e+=Number(t.amount)*Number(t.unityPrice))})),e+Number(t)},t.prototype.isEveryMaterialFullfiled=function(){return this.materialsWithPrices.every((function(t){return t.unityPrice>0}))},t.prototype.sendPrices=function(){var t=this,e=this.priceForm.value,n=e.suggestedDate,a=e.fare,i=this._priceService.getPricesFromStorage().find((function(e){return e.id===t.priceId}));this._loadingService.show();var o=Object(c.a)(Object(c.a)({},i),{fare:Number(a),status:"ANSWERED",suggestedDate:d(n).format(),responseDate:d().format()});this._priceService.updatePrice(o),this._priceService.updatePricesMaterials(this.materialsWithPrices,this.priceId,this.userLoggedIn.department.id),setTimeout((function(){t.priceForm.reset(),t._giveFeedback(),t._loadingService.hide()}),2e3)},t.prototype._getPriceId=function(){var t=this;this.activatedRoute.params.subscribe((function(e){t.priceId=Number(e.id)}))},t.prototype._setPricesList=function(){var t=this;this._priceService.fetchPrices(),this.pricesMaterialSubscription=this._priceService.pricesMaterials.subscribe((function(e){if(!(e.length<=0)){var n=e.filter((function(e){return e.priceId===t.priceId&&e.provider.id===t.userLoggedIn.department.id})).map((function(t){return t.material}));t.dataSource=new b.o(n),t.materialsWithPrices=n.map((function(t){return Object(c.a)(Object(c.a)({},t),{unityPrice:0})}))}}))},t.prototype._getUser=function(){this.userLoggedIn=JSON.parse(this._storageService.getItem("userLoggedIn"))},t.prototype._giveFeedback=function(){this._dialog.open(m.b,{data:{title:"Sua resposta foi gravada com sucesso!",description:"Clique em OK para continuar.",routeToRedirect:"/externo"}})},t.\u0275fac=function(e){return new(e||t)(f.Mb(h.b),f.Mb(s.a),f.Mb(u.a),f.Mb(p.a),f.Mb(o.a),f.Mb(i.d))},t.\u0275cmp=f.Gb({type:t,selectors:[["app-answer-prices"]],viewQuery:function(t,e){var n;1&t&&f.Dc(l.a,!0),2&t&&f.nc(n=f.ac())&&(e.sort=n.first)},decls:41,vars:4,consts:[[1,"main-content"],[1,"row","justify-content-between"],[1,"col-12","col-md-3"],["appearance","outline"],["matInput","","placeholder","Observa\xe7\xe3o, Situa\xe7\xe3o",3,"keyup"],["matSuffix",""],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[1,"table","table-responsive","mat-elevation-z8"],["matSortDisableClear","","matSortActive","id","matSortDirection","asc","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["data-label","#",4,"matCellDef"],["matColumnDef","description"],["data-label","Observa\xe7\xe3o",4,"matCellDef"],["matColumnDef","unityType"],["data-label","Tipo de Unidade",4,"matCellDef"],["matColumnDef","amount"],["data-label","Quantidade",4,"matCellDef"],["matColumnDef","price"],[4,"matHeaderCellDef"],["data-label","Preco",4,"matCellDef"],["matColumnDef","subtotal"],["data-label","Subtotal",4,"matCellDef"],[4,"matHeaderRowDef"],["class","table__row",4,"matRowDef","matRowDefColumns"],["class","card",4,"ngIf"],["mat-sort-header",""],["data-label","#"],["data-label","Observa\xe7\xe3o"],["data-label","Tipo de Unidade"],["data-label","Quantidade"],["data-label","Preco"],["matInput","","placeholder","R$ 00,00","required","","type","number",3,"input"],["data-label","Subtotal"],[1,"table__row"],[1,"card-header","card-header-warning"],[1,"card-body",3,"formGroup","submit"],[1,"row"],[1,"col-12","col-md-4"],["matInput","","placeholder","R$ 00.00","formControlName","fare","required",""],["formControlName","suggestedDate","matInput","","required","","readonly","",3,"min","matDatepicker"],["matSuffix","",3,"for"],["picker",""],[1,"badge","badge-warning","badge--large"],[1,"col-12","offset-md-10","col-md-2"],["mat-raised-button","","color","primary","type","submit",1,"btn-block",3,"disabled"]],template:function(t,e){1&t&&(f.Sb(0,"div",0),f.Sb(1,"div",1),f.Sb(2,"div",2),f.Sb(3,"mat-form-field",3),f.Sb(4,"mat-label"),f.Ac(5,"Pesquisar"),f.Rb(),f.Sb(6,"input",4),f.Zb("keyup",(function(t){return e.applyFilter(t.target.value)})),f.Rb(),f.Sb(7,"mat-icon",5),f.Ac(8,"search"),f.Rb(),f.Sb(9,"mat-hint"),f.Ac(10,"Exemplo: Em andamento"),f.Rb(),f.Rb(),f.Rb(),f.Rb(),f.Sb(11,"div",6),f.Sb(12,"div",7),f.Sb(13,"h4",8),f.Ac(14,"Passo 01"),f.Rb(),f.Sb(15,"p",9),f.Ac(16,"Insira os valores de cada material"),f.Rb(),f.Rb(),f.Sb(17,"div",10),f.Sb(18,"div",11),f.Sb(19,"mat-table",12),f.Qb(20,13),f.yc(21,v,2,0,"mat-header-cell",14),f.yc(22,w,2,1,"mat-cell",15),f.Pb(),f.Qb(23,16),f.yc(24,y,2,0,"mat-header-cell",14),f.yc(25,R,2,1,"mat-cell",17),f.Pb(),f.Qb(26,18),f.yc(27,D,2,0,"mat-header-cell",14),f.yc(28,x,2,1,"mat-cell",19),f.Pb(),f.Qb(29,20),f.yc(30,A,2,0,"mat-header-cell",14),f.yc(31,I,2,1,"mat-cell",21),f.Pb(),f.Qb(32,22),f.yc(33,B,2,0,"mat-header-cell",23),f.yc(34,k,6,0,"mat-cell",24),f.Pb(),f.Qb(35,25),f.yc(36,j,2,0,"mat-header-cell",14),f.yc(37,E,3,3,"mat-cell",26),f.Pb(),f.yc(38,T,1,0,"mat-header-row",27),f.yc(39,N,1,0,"mat-row",28),f.Rb(),f.Rb(),f.Rb(),f.Rb(),f.yc(40,F,29,8,"div",29),f.Rb()),2&t&&(f.Bb(19),f.ic("dataSource",e.dataSource),f.Bb(19),f.ic("matHeaderRowDef",e.columnsToDisplay),f.Bb(1),f.ic("matRowDefColumns",e.columnsToDisplay),f.Bb(1),f.ic("ngIf",e.isEveryMaterialFullfiled()))},directives:[_.c,_.g,C.b,P.a,_.h,_.f,b.n,l.a,b.c,b.i,b.b,b.k,b.m,a.l,b.h,l.b,b.a,b.j,b.l,i.s,i.m,i.f,i.c,i.l,i.e,i.q,S.b,S.d,S.a,O.b],pipes:[M.a],styles:[".main-content[_ngcontent-%COMP%]   .td-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.main-content[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.8rem;letter-spacing:1px}.main-content[_ngcontent-%COMP%]   .badge.badge--large[_ngcontent-%COMP%]{width:100%;font-size:1.5rem}@media only screen and (min-width:992px){.main-content[_ngcontent-%COMP%]   .badge.badge--large[_ngcontent-%COMP%]{margin-top:.2rem;padding:.8rem 0}}.main-content[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{padding:1rem 0;font-weight:400;font-size:1rem}.main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid #ababab}.main-content[_ngcontent-%COMP%]   .table__row.table__row--details[_ngcontent-%COMP%]{height:0;min-height:0;overflow:hidden}@media screen and (max-width:992px){.main-content[_ngcontent-%COMP%]   .table__row.table__row--details.table__row--expanded[_ngcontent-%COMP%]{height:auto}.main-content[_ngcontent-%COMP%]   .table__row.table__row--details.table__row--expanded[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{height:auto;overflow:auto}}@media only screen and (min-width:992px){.main-content[_ngcontent-%COMP%]   .table__row.table__row--details[_ngcontent-%COMP%]{height:auto;min-height:auto;overflow:auto}}.main-content[_ngcontent-%COMP%]   .table__row.table__row--disabled[_ngcontent-%COMP%]{background-color:#dedede}.main-content[_ngcontent-%COMP%]   .table__row[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{max-width:135px}.main-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#dedede}@media screen and (max-width:992px){.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{vertical-align:middle;border:0}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1em}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{display:none}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{display:block;min-height:auto}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:not(:last-child){border-bottom:5px solid #ddd}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:50px;margin-bottom:4%;padding:0 1rem;overflow-y:auto;font-size:1em;text-align:right;border-bottom:1px solid #ddd}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:before{float:left;margin-right:1rem;font-weight:700;font-size:.85em;text-transform:uppercase;content:attr(data-label)}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child{margin-top:4%}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-child{margin-bottom:0;border-bottom:0}}"],data:{animation:[Object(r.n)("detailExpand",[Object(r.k)("collapsed",Object(r.l)({height:"0px",minHeight:"0"})),Object(r.k)("expanded",Object(r.l)({height:"*",minHeight:"*"})),Object(r.m)("expanded <=> collapsed",Object(r.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t}(),L=n("Qu3c"),z=n("CGfp");function q(t,e){1&t&&(f.Sb(0,"mat-header-cell",36),f.Ac(1,"#"),f.Rb())}function $(t,e){if(1&t&&(f.Sb(0,"mat-cell",37),f.Ac(1),f.Rb()),2&t){var n=e.$implicit;f.Bb(1),f.Cc(" ",n.id," ")}}function H(t,e){1&t&&(f.Sb(0,"mat-header-cell",36),f.Ac(1,"Observa\xe7\xe3o"),f.Rb())}function G(t,e){if(1&t&&(f.Sb(0,"mat-cell",38),f.Ac(1),f.Rb()),2&t){var n=e.$implicit;f.Bb(1),f.Cc(" ",n.description," ")}}function W(t,e){1&t&&(f.Sb(0,"mat-header-cell",36),f.Ac(1,"Criado em"),f.Rb())}function J(t,e){if(1&t&&(f.Sb(0,"mat-cell",39),f.Ac(1),f.ec(2,"dateFormat"),f.Rb()),2&t){var n=e.$implicit;f.Bb(1),f.Cc(" ",f.fc(2,1,n.requestDate)," ")}}function U(t,e){1&t&&(f.Sb(0,"mat-header-cell",36),f.Ac(1,"Data Desejada"),f.Rb())}function K(t,e){if(1&t&&(f.Sb(0,"mat-cell",40),f.Ac(1),f.ec(2,"dateFormat"),f.Rb()),2&t){var n=e.$implicit;f.Bb(1),f.Cc(" ",f.fc(2,1,n.deadlineDate)," ")}}function V(t,e){1&t&&(f.Sb(0,"mat-header-cell",36),f.Ac(1,"Situa\xe7\xe3o"),f.Rb())}function Z(t,e){if(1&t&&(f.Sb(0,"mat-cell",41),f.Sb(1,"span",42),f.Ac(2),f.Rb(),f.Rb()),2&t){var n=e.$implicit,a=f.dc(2);f.Bb(1),f.Eb("badge-warning","Em cota\xe7\xe3o"===a.priceStatusEnum[n.status]),f.Bb(1),f.Cc(" ",a.priceStatusEnum[n.status]," ")}}function X(t,e){1&t&&(f.Sb(0,"mat-header-cell"),f.Ac(1,"A\xe7\xf5es"),f.Rb())}function Y(t,e){if(1&t){var n=f.Tb();f.Sb(0,"mat-cell",43),f.Sb(1,"div",44),f.Sb(2,"button",45),f.Zb("click",(function(){f.qc(n);var t=e.$implicit,a=f.dc(2);return a.expandedElement=a.expandedElement===t?null:t})),f.Sb(3,"i",46),f.Ac(4,"table_view"),f.Rb(),f.Rb(),f.Sb(5,"button",47),f.Sb(6,"i",46),f.Ac(7,"arrow_forward"),f.Rb(),f.Rb(),f.Rb(),f.Rb()}if(2&t){var a=e.$implicit;f.Bb(5),f.jc("routerLink","/externo/",a.id,"/responder")}}function tt(t,e){if(1&t&&(f.Sb(0,"tr"),f.Sb(1,"td",51),f.Ac(2),f.Rb(),f.Sb(3,"td"),f.Ac(4),f.Rb(),f.Sb(5,"td"),f.Ac(6),f.Rb(),f.Sb(7,"td"),f.Ac(8),f.Rb(),f.Rb()),2&t){var n=e.$implicit;f.Bb(2),f.Bc(n.material.id),f.Bb(2),f.Bc(n.material.description),f.Bb(2),f.Bc(n.material.amount),f.Bb(2),f.Bc(n.material.group.description)}}function et(t,e){if(1&t&&(f.Sb(0,"mat-cell"),f.Sb(1,"div"),f.Sb(2,"table",48),f.Sb(3,"thead"),f.Sb(4,"tr"),f.Sb(5,"th",49),f.Ac(6,"#"),f.Rb(),f.Sb(7,"th",49),f.Ac(8,"Material"),f.Rb(),f.Sb(9,"th",49),f.Ac(10,"Quantidade"),f.Rb(),f.Sb(11,"th",49),f.Ac(12,"Grupo"),f.Rb(),f.Rb(),f.Rb(),f.Sb(13,"tbody"),f.yc(14,tt,9,4,"tr",50),f.Rb(),f.Rb(),f.Rb(),f.Rb()),2&t){var n=e.$implicit,a=f.dc(2);f.Cb("colspan",a.columnsToDisplay.length),f.Bb(1),f.ic("@detailExpand",n==a.expandedElement?"expanded":"collapsed"),f.Bb(13),f.ic("ngForOf",a.getMaterialsPrices(n.id))}}function nt(t,e){1&t&&f.Nb(0,"mat-header-row")}function at(t,e){1&t&&f.Nb(0,"mat-row",52)}function it(t,e){if(1&t&&f.Nb(0,"mat-row",53),2&t){var n=e.$implicit,a=f.dc(2);f.Eb("table__row--expanded",a.expandedElement===n)}}var ot=function(){return["expandedMaterialPrice"]};function ct(t,e){if(1&t&&(f.Sb(0,"div",15),f.Sb(1,"mat-table",16),f.Qb(2,17),f.yc(3,q,2,0,"mat-header-cell",18),f.yc(4,$,2,1,"mat-cell",19),f.Pb(),f.Qb(5,20),f.yc(6,H,2,0,"mat-header-cell",18),f.yc(7,G,2,1,"mat-cell",21),f.Pb(),f.Qb(8,22),f.yc(9,W,2,0,"mat-header-cell",18),f.yc(10,J,3,3,"mat-cell",23),f.Pb(),f.Qb(11,24),f.yc(12,U,2,0,"mat-header-cell",18),f.yc(13,K,3,3,"mat-cell",25),f.Pb(),f.Qb(14,26),f.yc(15,V,2,0,"mat-header-cell",18),f.yc(16,Z,3,3,"mat-cell",27),f.Pb(),f.Qb(17,28),f.yc(18,X,2,0,"mat-header-cell",29),f.yc(19,Y,8,1,"mat-cell",30),f.Pb(),f.Qb(20,31),f.yc(21,et,15,3,"mat-cell",32),f.Pb(),f.yc(22,nt,1,0,"mat-header-row",33),f.yc(23,at,1,0,"mat-row",34),f.yc(24,it,1,2,"mat-row",35),f.Rb(),f.Rb()),2&t){var n=f.dc();f.Bb(1),f.ic("dataSource",n.dataSource),f.Bb(21),f.ic("matHeaderRowDef",n.columnsToDisplay),f.Bb(1),f.ic("matRowDefColumns",n.columnsToDisplay),f.Bb(1),f.ic("matRowDefColumns",f.kc(4,ot))}}function rt(t,e){1&t&&(f.Sb(0,"p"),f.Ac(1,"N\xe3o h\xe1 cota\xe7\xf5es para serem respondidas."),f.Rb())}var lt=[{path:"",component:m.c,children:[{path:"",component:function(){function t(t,e){this._priceService=t,this._storageSerivce=e,this.dataSource=new b.o,this.columnsToDisplay=["id","description","requestDate","deadline","status","actions"],this.priceStatusEnum=g.b,this.pricesMaterialsList=[]}return t.prototype.ngOnInit=function(){var t=JSON.parse(this._storageSerivce.getItem("userLoggedIn"));this.userLoggedIn=t,this._setPricesList()},t.prototype.ngAfterViewInit=function(){this.dataSource.sort=this.sort},t.prototype.ngOnDestroy=function(){this.pricesSubscription&&this.pricesSubscription.unsubscribe(),this.pricesMaterialSubscription&&this.pricesMaterialSubscription.unsubscribe()},t.prototype.applyFilter=function(t){this.dataSource.filter=t.trim().toLocaleLowerCase()},t.prototype.getMaterialsPrices=function(t){return this.pricesMaterialsList.filter((function(e){return e.priceId===t}))},t.prototype._setPricesList=function(){var t=this;this._priceService.fetchPrices(),this.pricesSubscription=this._priceService.prices.subscribe((function(e){if(!(e.length<=0)){var n=e.filter((function(t){return"WAITING"===t.status}));t.dataSource=new b.o(n)}})),this.pricesMaterialSubscription=this._priceService.pricesMaterials.subscribe((function(e){if(!(e.length<=0)){var n=e.filter((function(e){return e.provider.id===t.userLoggedIn.department.id}));t.pricesMaterialsList=n}}))},t.\u0275fac=function(e){return new(e||t)(f.Mb(u.a),f.Mb(p.a))},t.\u0275cmp=f.Gb({type:t,selectors:[["app-dashboard"]],viewQuery:function(t,e){var n;1&t&&f.Dc(l.a,!0),2&t&&f.nc(n=f.ac())&&(e.sort=n.first)},decls:21,vars:2,consts:[[1,"main-content"],[1,"row","justify-content-between"],[1,"col-12","col-md-4"],["appearance","outline"],["matInput","","placeholder","Pesquisar",3,"keyup"],["matSuffix",""],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-category"],[1,"card-body"],["class","table table-responsive mat-elevation-z8",4,"ngIf","ngIfElse"],["feedback",""],[1,"table","table-responsive","mat-elevation-z8"],["matSortDisableClear","","matSortActive","id","matSortDirection","asc","multiTemplateDataRows","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["data-label","#",4,"matCellDef"],["matColumnDef","description"],["data-label","Observa\xe7\xe3o",4,"matCellDef"],["matColumnDef","requestDate"],["data-label","Criado em",4,"matCellDef"],["matColumnDef","deadline"],["data-label","Data Desejada",4,"matCellDef"],["matColumnDef","status"],["data-label","Situa\xe7\xe3o",4,"matCellDef"],["matColumnDef","actions"],[4,"matHeaderCellDef"],["class","td-actions text-center","data-label","A\xe7\xf5es",4,"matCellDef"],["matColumnDef","expandedMaterialPrice"],[4,"matCellDef"],[4,"matHeaderRowDef"],["class","table__row",4,"matRowDef","matRowDefColumns"],["class","table__row table__row--details",3,"table__row--expanded",4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],["data-label","#"],["data-label","Observa\xe7\xe3o"],["data-label","Criado em"],["data-label","Data Desejada"],["data-label","Situa\xe7\xe3o"],[1,"badge"],["data-label","A\xe7\xf5es",1,"td-actions","text-center"],[1,"btn-group"],["mat-raised-button","","matTooltip","Visualizar Materiais","rel","tooltip","type","button",1,"btn","btn-info",3,"click"],[1,"material-icons"],["rel","tooltip","mat-raised-button","","matTooltip","Responder","type","button",1,"btn","btn-success",3,"routerLink"],[1,"table","table-responsive","table--expanded"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"table__row"],[1,"table__row","table__row--details"]],template:function(t,e){if(1&t&&(f.Sb(0,"div",0),f.Sb(1,"div",1),f.Sb(2,"div",2),f.Sb(3,"mat-form-field",3),f.Sb(4,"mat-label"),f.Ac(5,"Pesquisar"),f.Rb(),f.Sb(6,"input",4),f.Zb("keyup",(function(t){return e.applyFilter(t.target.value)})),f.Rb(),f.Sb(7,"mat-icon",5),f.Ac(8,"search"),f.Rb(),f.Rb(),f.Rb(),f.Rb(),f.Sb(9,"div",6),f.Sb(10,"div",7),f.Sb(11,"div",8),f.Sb(12,"div",9),f.Sb(13,"h4",10),f.Ac(14,"Cota\xe7\xf5es"),f.Rb(),f.Sb(15,"p",11),f.Ac(16,"Estas cota\xe7\xf5es est\xe3o esperando por uma resposta"),f.Rb(),f.Rb(),f.Sb(17,"div",12),f.yc(18,ct,25,5,"div",13),f.yc(19,rt,2,0,"ng-template",null,14,f.zc),f.Rb(),f.Rb(),f.Rb(),f.Rb(),f.Rb()),2&t){var n=f.oc(20);f.Bb(18),f.ic("ngIf",e.dataSource.data.length>0)("ngIfElse",n)}},directives:[_.c,_.g,C.b,P.a,_.h,a.l,b.n,l.a,b.c,b.i,b.b,b.k,b.m,b.h,l.b,b.a,O.b,L.a,o.e,a.k,b.j,b.l],pipes:[z.a],styles:[".main-content[_ngcontent-%COMP%]   .td-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.main-content[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.8rem;letter-spacing:1px}.main-content[_ngcontent-%COMP%]   .badge.badge--large[_ngcontent-%COMP%]{width:100%;font-size:1.5rem}@media only screen and (min-width:992px){.main-content[_ngcontent-%COMP%]   .badge.badge--large[_ngcontent-%COMP%]{margin-top:.2rem;padding:.8rem 0}}.main-content[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{padding:1rem 0;font-weight:400;font-size:1rem}.main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid #ababab}.main-content[_ngcontent-%COMP%]   .table__row.table__row--details[_ngcontent-%COMP%]{height:0;min-height:0;overflow:hidden}@media screen and (max-width:992px){.main-content[_ngcontent-%COMP%]   .table__row.table__row--details.table__row--expanded[_ngcontent-%COMP%]{height:auto}.main-content[_ngcontent-%COMP%]   .table__row.table__row--details.table__row--expanded[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{height:auto;overflow:auto}}@media only screen and (min-width:992px){.main-content[_ngcontent-%COMP%]   .table__row.table__row--details[_ngcontent-%COMP%]{height:auto;min-height:auto;overflow:auto}}.main-content[_ngcontent-%COMP%]   .table__row.table__row--disabled[_ngcontent-%COMP%]{background-color:#dedede}.main-content[_ngcontent-%COMP%]   .table__row[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{max-width:135px}.main-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#dedede}@media screen and (max-width:992px){.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{vertical-align:middle;border:0}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1em}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{display:none}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{display:block;min-height:auto}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:not(:last-child){border-bottom:5px solid #ddd}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:50px;margin-bottom:4%;padding:0 1rem;overflow-y:auto;font-size:1em;text-align:right;border-bottom:1px solid #ddd}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:before{float:left;margin-right:1rem;font-weight:700;font-size:.85em;text-transform:uppercase;content:attr(data-label)}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child{margin-top:4%}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-child{margin-bottom:0;border-bottom:0}}"],data:{animation:[Object(r.n)("detailExpand",[Object(r.k)("collapsed",Object(r.l)({height:"0px",minHeight:"0"})),Object(r.k)("expanded",Object(r.l)({height:"*",minHeight:"*"})),Object(r.m)("expanded <=> collapsed",Object(r.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t}()},{path:":id/responder",component:Q}]}],bt=function(){function t(){}return t.\u0275mod=f.Kb({type:t}),t.\u0275inj=f.Jb({factory:function(e){return new(e||t)},imports:[[o.h.forChild(lt)],o.h]}),t}(),dt=n("agfR"),mt=n("iTUp"),st=n("PCNd"),ut=n("1zoS"),pt=function(){function t(){}return t.\u0275mod=f.Kb({type:t}),t.\u0275inj=f.Jb({factory:function(e){return new(e||t)},providers:[ut.d],imports:[[a.c,bt,i.g,dt.a,mt.a,i.p,o.h,st.a]]}),t}()}}]);
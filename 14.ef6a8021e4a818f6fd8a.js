(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"+olZ":function(t,e,a){"use strict";a.r(e),a.d(e,"RequestsModule",(function(){return Mt}));var n=a("ofXK"),i=a("3Pt+"),o=a("tyNb"),c=a("agfR"),r=a("mrSG"),l=a("Dh3D"),b=a("+0xr"),s=a("wd/R"),d=a("1ua0"),m=a("vglk"),u=a("XXEo"),g=a("X7KA"),p=a("RVEH"),f=a("Edqf"),h=a("fXoL"),_=a("0IaG"),C=a("kmnG"),S=a("qFsG"),M=a("NFeN"),R=a("d3UM"),v=a("bTqV"),O=a("FKr1"),P=a("Qu3c"),w=a("iadO"),y=a("ihCf");function q(t,e){if(1&t&&(h.Sb(0,"mat-option",17),h.Ac(1),h.Rb()),2&t){var a=e.$implicit;h.ic("value",a),h.Bb(1),h.Cc("",a.description," ")}}function D(t,e){1&t&&(h.Sb(0,"mat-header-cell"),h.Ac(1,"#"),h.Rb())}function A(t,e){if(1&t&&(h.Sb(0,"mat-cell",34),h.Ac(1),h.Rb()),2&t){var a=e.$implicit;h.Bb(1),h.Cc(" ",a.material.id," ")}}function x(t,e){1&t&&(h.Sb(0,"mat-header-cell"),h.Ac(1,"Material"),h.Rb())}function k(t,e){if(1&t&&(h.Sb(0,"mat-cell",35),h.Ac(1),h.Rb()),2&t){var a=e.$implicit;h.Bb(1),h.Cc(" ",a.material.description," ")}}function B(t,e){1&t&&(h.Sb(0,"mat-header-cell",36),h.Ac(1,"Quantidade"),h.Rb())}function I(t,e){if(1&t&&(h.Sb(0,"mat-cell",37),h.Ac(1),h.Rb()),2&t){var a=e.$implicit;h.Bb(1),h.Cc(" ",a.amount," ")}}function T(t,e){1&t&&(h.Sb(0,"mat-header-cell"),h.Ac(1,"A\xe7\xf5es"),h.Rb())}function E(t,e){if(1&t){var a=h.Tb();h.Sb(0,"mat-cell",38),h.Sb(1,"div",39),h.Sb(2,"button",40),h.Zb("click",(function(){h.qc(a);var t=e.$implicit;return h.dc(2).removeMaterial(t.material.id)})),h.Sb(3,"i",41),h.Ac(4,"close"),h.Rb(),h.Rb(),h.Rb(),h.Rb()}}function F(t,e){1&t&&h.Nb(0,"mat-header-row")}function j(t,e){1&t&&h.Nb(0,"mat-row",42)}function L(t,e){if(1&t&&(h.Sb(0,"div",18),h.Sb(1,"div",19),h.Sb(2,"h4",3),h.Ac(3,"Passo 02 - Confira os materiais selecionados"),h.Rb(),h.Rb(),h.Sb(4,"div",4),h.Sb(5,"div",20),h.Sb(6,"mat-table",21),h.Qb(7,22),h.yc(8,D,2,0,"mat-header-cell",23),h.yc(9,A,2,1,"mat-cell",24),h.Pb(),h.Qb(10,25),h.yc(11,x,2,0,"mat-header-cell",23),h.yc(12,k,2,1,"mat-cell",26),h.Pb(),h.Qb(13,27),h.yc(14,B,2,0,"mat-header-cell",28),h.yc(15,I,2,1,"mat-cell",29),h.Pb(),h.Qb(16,30),h.yc(17,T,2,0,"mat-header-cell",23),h.yc(18,E,5,0,"mat-cell",31),h.Pb(),h.yc(19,F,1,0,"mat-header-row",32),h.yc(20,j,1,0,"mat-row",33),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&t){var a=h.dc();h.Bb(6),h.ic("dataSource",a.dataSource),h.Bb(13),h.ic("matHeaderRowDef",a.columnsToDisplay),h.Bb(1),h.ic("matRowDefColumns",a.columnsToDisplay)}}function N(t,e){if(1&t&&(h.Sb(0,"mat-option",17),h.Ac(1),h.Rb()),2&t){var a=e.$implicit;h.ic("value",a),h.Bb(1),h.Cc("",a," ")}}function z(t,e){if(1&t){var a=h.Tb();h.Sb(0,"div",18),h.Sb(1,"div",2),h.Sb(2,"h4",3),h.Ac(3,"Passo 03 - Escolha suas prefer\xeancias"),h.Rb(),h.Rb(),h.Sb(4,"div",4),h.Sb(5,"form",5),h.Zb("submit",(function(){return h.qc(a),h.dc().createRequest()})),h.Sb(6,"div",6),h.Sb(7,"div",43),h.Sb(8,"mat-form-field",8),h.Sb(9,"mat-label"),h.Ac(10,"Data desejada"),h.Rb(),h.Nb(11,"input",44),h.Nb(12,"mat-datepicker-toggle",45),h.Nb(13,"mat-datepicker",null,46),h.Rb(),h.Rb(),h.Sb(15,"div",43),h.Sb(16,"mat-form-field",8),h.Sb(17,"mat-label"),h.Ac(18,"Prioridade"),h.Rb(),h.Sb(19,"mat-select",47),h.yc(20,N,2,2,"mat-option",12),h.Rb(),h.Rb(),h.Rb(),h.Sb(21,"div",48),h.Sb(22,"mat-form-field",8),h.Sb(23,"mat-label"),h.Ac(24,"Observa\xe7\xf5es"),h.Rb(),h.Sb(25,"textarea",49,50),h.Ac(27,"                                            "),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(28,"div",6),h.Sb(29,"div",14),h.Sb(30,"button",15),h.Ac(31,"Enviar"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()}if(2&t){var n=h.oc(14),i=h.dc();h.Bb(5),h.ic("formGroup",i.requestForm),h.Bb(6),h.ic("min",i.minDate)("matDatepicker",n),h.Bb(1),h.ic("for",n),h.Bb(8),h.ic("ngForOf",i.priorityList),h.Bb(10),h.ic("disabled",i.requestForm.invalid)}}var Q=function(){function t(t,e,a,n,o,c){this._dialog=t,this.fb=e,this._loadingService=a,this._loginService=n,this._materialService=o,this._requestService=c,this.materialsList=[],this.requestMaterials=[],this.priorityList=Object.values(f.c),this.minDate=new Date,this.columnsToDisplay=["id","description","amount","actions"],this.dataSource=new b.o,this.requestMaterialForm=this.fb.group({amount:["",i.r.compose([i.r.required,i.r.min(1)])],material:["",i.r.required]}),this.requestForm=this.fb.group({desiredDate:["",i.r.required],justification:[""],priority:["",i.r.required]})}return t.prototype.ngOnInit=function(){this._setMaterialsList(),this._getUserLoggedIn()},t.prototype.ngAfterViewInit=function(){this.dataSource.sort=this.sort},t.prototype.ngOnDestroy=function(){this.materialSubscription&&this.materialSubscription.unsubscribe(),this.userSubscription&&this.userSubscription.unsubscribe()},t.prototype.addMaterial=function(){this.requestMaterialForm.valid&&(this._setRequestMaterial(this.requestMaterialForm.value),this.requestMaterialForm.reset())},t.prototype.removeMaterial=function(t){var e=this.requestMaterials.filter((function(e){return e.material.id!==t}));this._setNewDataTable(e)},t.prototype.createRequest=function(){var t=this;this._loadingService.show();var e=this.requestForm.value,a=e.desiredDate,n=e.priority,i=e.justification,o=this.requestMaterials.map((function(t){return Object(r.a)(Object(r.a)({},t.material),{amount:t.amount})})),c=new Map([["Baixa","LOW"],["Alta","HIGH"],["Cr\xedtica","CRITICAL"]]),l={desiredDate:s(a).format(),id:this._requestService.getLastRequestId()+1,justification:i,materials:o,priority:c.get(n),requestDate:s().format(),requester:this.userLoggedIn,status:"VALIDATION"};this._requestService.setNewRequest(l),setTimeout((function(){t._giveFeedback(),t._clearForms(),t._loadingService.hide()}),2e3)},t.prototype._giveFeedback=function(){this._dialog.open(d.b,{data:{title:"Solicita\xe7\xe3o criada com sucesso!",description:"Clique em OK para conferir sua nova solicita\xe7\xe3o.",routeToRedirect:"/solicitacoes"}})},t.prototype._setMaterialsList=function(){var t=this;this._materialService.fetchMaterials(),this.materialSubscription=this._materialService.materials.subscribe((function(e){e.length>0&&(t.materialsList=e)}))},t.prototype._setRequestMaterial=function(t){this.requestMaterials.push(t),this._setNewDataTable(this.requestMaterials)},t.prototype._setNewDataTable=function(t){this.requestMaterials=t,this.dataSource=new b.o(t),this.dataSource.sort=this.sort},t.prototype._getUserLoggedIn=function(){var t=this;this._loginService.fetchUser(),this._loginService.userLoggedIn.subscribe((function(e){e&&(t.userLoggedIn=e)}))},t.prototype._clearForms=function(){this.requestForm.reset(),this.requestMaterialForm.reset()},t.\u0275fac=function(e){return new(e||t)(h.Mb(_.b),h.Mb(i.d),h.Mb(m.a),h.Mb(u.a),h.Mb(g.a),h.Mb(p.a))},t.\u0275cmp=h.Gb({type:t,selectors:[["app-create"]],viewQuery:function(t,e){var a;1&t&&h.Dc(l.a,!0),2&t&&h.nc(a=h.ac())&&(e.sort=a.first)},decls:32,vars:6,consts:[[1,"main-content"],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-body"],[3,"formGroup","submit"],[1,"row"],[1,"col-12","col-md-4"],["appearance","outline"],["matInput","","disabled","",3,"value"],["matSuffix",""],["formControlName","material","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","amount","matInput","","placeholder","Quantidade","type","number","required",""],[1,"col-12","offset-md-10","col-md-2"],["mat-raised-button","","color","primary","type","submit",1,"btn-block",3,"disabled"],["class","card mt-5",4,"ngIf"],[3,"value"],[1,"card","mt-5"],[1,"card-header","card-header-warning"],[1,"table","table-responsive","mat-elevation-z8"],["matSortDisableClear","","matSortActive","id","matSortDirection","asc","matSort","",3,"dataSource"],["matColumnDef","id"],[4,"matHeaderCellDef"],["data-label","#",4,"matCellDef"],["matColumnDef","description"],["data-label","Material",4,"matCellDef"],["matColumnDef","amount"],["mat-sort-header","",4,"matHeaderCellDef"],["data-label","Quantidade",4,"matCellDef"],["matColumnDef","actions"],["class","td-actions","data-label","A\xe7\xf5es",4,"matCellDef"],[4,"matHeaderRowDef"],["class","table__row",4,"matRowDef","matRowDefColumns"],["data-label","#"],["data-label","Material"],["mat-sort-header",""],["data-label","Quantidade"],["data-label","A\xe7\xf5es",1,"td-actions"],[1,"btn-group"],["rel","tooltip","mat-raised-button","","matTooltip","Excluir","type","button",1,"btn","btn-danger",3,"click"],[1,"material-icons"],[1,"table__row"],[1,"col-12","col-md-6"],["formControlName","desiredDate","matInput","","required","","readonly","",3,"min","matDatepicker"],["matSuffix","",3,"for"],["picker",""],["formControlName","priority","required",""],[1,"col-12"],["cdkAutosizeMaxRows","5","cdkAutosizeMinRows","1","cdkTextareaAutosize","","formControlName","justification","matInput","","maxlength","80"],["autosize","cdkTextareaAutosize"]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.Sb(1,"div",1),h.Sb(2,"div",2),h.Sb(3,"h4",3),h.Ac(4,"Passo 01 - Escolha o material e a quantidade"),h.Rb(),h.Rb(),h.Sb(5,"div",4),h.Sb(6,"form",5),h.Zb("submit",(function(){return e.addMaterial()})),h.Sb(7,"div",6),h.Sb(8,"div",7),h.Sb(9,"mat-form-field",8),h.Sb(10,"mat-label"),h.Ac(11,"Solicitante"),h.Rb(),h.Nb(12,"input",9),h.Sb(13,"mat-icon",10),h.Ac(14,"face"),h.Rb(),h.Rb(),h.Rb(),h.Sb(15,"div",7),h.Sb(16,"mat-form-field",8),h.Sb(17,"mat-label"),h.Ac(18,"Materiais"),h.Rb(),h.Sb(19,"mat-select",11),h.yc(20,q,2,2,"mat-option",12),h.Rb(),h.Rb(),h.Rb(),h.Sb(21,"div",7),h.Sb(22,"mat-form-field",8),h.Sb(23,"mat-label"),h.Ac(24,"Quantidade"),h.Rb(),h.Nb(25,"input",13),h.Rb(),h.Rb(),h.Rb(),h.Sb(26,"div",6),h.Sb(27,"div",14),h.Sb(28,"button",15),h.Ac(29,"Adicionar"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.yc(30,L,21,3,"div",16),h.yc(31,z,32,6,"div",16),h.Rb()),2&t&&(h.Bb(6),h.ic("formGroup",e.requestMaterialForm),h.Bb(6),h.ic("value",(null==e.userLoggedIn?null:e.userLoggedIn.name)||""),h.Bb(8),h.ic("ngForOf",e.materialsList),h.Bb(8),h.ic("disabled",e.requestMaterialForm.invalid),h.Bb(2),h.ic("ngIf",e.requestMaterials.length>0),h.Bb(1),h.ic("ngIf",e.requestMaterials.length>0))},directives:[i.s,i.m,i.f,C.c,C.g,S.b,M.a,C.h,R.a,i.l,i.e,i.q,n.k,i.c,i.o,v.b,n.l,O.n,b.n,l.a,b.c,b.i,b.b,b.k,b.m,b.h,b.a,l.b,P.a,b.j,b.l,w.b,w.d,w.a,y.b,i.h],styles:[".main-content[_ngcontent-%COMP%]   .td-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.main-content[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.8rem;letter-spacing:1px}.main-content[_ngcontent-%COMP%]   .badge.badge--large[_ngcontent-%COMP%]{width:100%;font-size:1.5rem}@media only screen and (min-width:992px){.main-content[_ngcontent-%COMP%]   .badge.badge--large[_ngcontent-%COMP%]{margin-top:.2rem;padding:.8rem 0}}.main-content[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{padding:1rem 0;font-weight:400;font-size:1rem}.main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid #ababab}.main-content[_ngcontent-%COMP%]   .table__row.table__row--details[_ngcontent-%COMP%]{height:0;min-height:0;overflow:hidden}@media screen and (max-width:992px){.main-content[_ngcontent-%COMP%]   .table__row.table__row--details.table__row--expanded[_ngcontent-%COMP%]{height:auto}.main-content[_ngcontent-%COMP%]   .table__row.table__row--details.table__row--expanded[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{height:auto;overflow:auto}}@media only screen and (min-width:992px){.main-content[_ngcontent-%COMP%]   .table__row.table__row--details[_ngcontent-%COMP%]{height:auto;min-height:auto;overflow:auto}}.main-content[_ngcontent-%COMP%]   .table__row.table__row--disabled[_ngcontent-%COMP%]{background-color:#dedede}.main-content[_ngcontent-%COMP%]   .table__row[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{max-width:135px}.main-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#dedede}@media screen and (max-width:992px){.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{vertical-align:middle;border:0}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1em}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{display:none}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{display:block;min-height:auto}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:not(:last-child){border-bottom:5px solid #ddd}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:50px;margin-bottom:4%;padding:0 1rem;overflow-y:auto;font-size:1em;text-align:right;border-bottom:1px solid #ddd}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:before{float:left;margin-right:1rem;font-weight:700;font-size:.85em;text-transform:uppercase;content:attr(data-label)}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child{margin-top:4%}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-child{margin-bottom:0;border-bottom:0}}"]}),t}(),$=a("R0Ic"),H=a("E2f4"),G=a("CGfp");function Z(t,e){1&t&&(h.Sb(0,"mat-header-cell",40),h.Ac(1,"#"),h.Rb())}function K(t,e){if(1&t&&(h.Sb(0,"mat-cell",41),h.Ac(1),h.Rb()),2&t){var a=e.$implicit;h.Bb(1),h.Cc(" ",a.id," ")}}function V(t,e){1&t&&(h.Sb(0,"mat-header-cell"),h.Ac(1,"Solicitante"),h.Rb())}function U(t,e){if(1&t&&(h.Sb(0,"mat-cell",42),h.Ac(1),h.Rb()),2&t){var a=e.$implicit;h.Bb(1),h.Cc(" ",a.requester.name," ")}}function X(t,e){1&t&&(h.Sb(0,"mat-header-cell",40),h.Ac(1,"Observa\xe7\xe3o"),h.Rb())}function J(t,e){if(1&t&&(h.Sb(0,"mat-cell",43),h.Ac(1),h.Rb()),2&t){var a=e.$implicit;h.Bb(1),h.Cc(" ",a.justification||"-"," ")}}function W(t,e){1&t&&(h.Sb(0,"mat-header-cell",40),h.Ac(1,"Data Requisitada"),h.Rb())}function Y(t,e){if(1&t&&(h.Sb(0,"mat-cell",44),h.Ac(1),h.ec(2,"dateFormat"),h.Rb()),2&t){var a=e.$implicit;h.Bb(1),h.Cc(" ",h.fc(2,1,a.requestDate)," ")}}function tt(t,e){1&t&&(h.Sb(0,"mat-header-cell",40),h.Ac(1,"Data Desejada"),h.Rb())}function et(t,e){if(1&t&&(h.Sb(0,"mat-cell",45),h.Ac(1),h.ec(2,"dateFormat"),h.Rb()),2&t){var a=e.$implicit;h.Bb(1),h.Cc(" ",h.fc(2,1,a.desiredDate)," ")}}function at(t,e){1&t&&(h.Sb(0,"mat-header-cell",40),h.Ac(1,"Prioridadade"),h.Rb())}function nt(t,e){if(1&t&&(h.Sb(0,"mat-cell",46),h.Sb(1,"span",47),h.Ac(2),h.Rb(),h.Rb()),2&t){var a=e.$implicit,n=h.dc();h.Bb(1),h.Eb("badge-success","Baixa"===n.requestPriorityEnums[a.priority])("badge-warning","Alta"===n.requestPriorityEnums[a.priority])("badge-danger","Cr\xedtica"===n.requestPriorityEnums[a.priority]),h.Bb(1),h.Cc(" ",n.requestPriorityEnums[a.priority]," ")}}function it(t,e){1&t&&(h.Sb(0,"mat-header-cell",40),h.Ac(1,"Situa\xe7\xe3o"),h.Rb())}function ot(t,e){if(1&t&&(h.Sb(0,"mat-cell",48),h.Sb(1,"span",47),h.Ac(2),h.Rb(),h.Rb()),2&t){var a=e.$implicit,n=h.dc();h.Bb(1),h.Eb("badge-warning","Em an\xe1lise"===n.requestStatusEnums[a.status])("badge-danger","Recusado"===n.requestStatusEnums[a.status]||"Cancelado"===n.requestStatusEnums[a.status])("badge-success","Conclu\xeddo"===n.requestStatusEnums[a.status]||"Aprovada"===n.requestStatusEnums[a.status]),h.Bb(1),h.Cc(" ",n.requestStatusEnums[a.status]," ")}}function ct(t,e){1&t&&(h.Sb(0,"mat-header-cell"),h.Ac(1,"A\xe7\xf5es"),h.Rb())}function rt(t,e){if(1&t){var a=h.Tb();h.Sb(0,"button",53),h.Zb("click",(function(){h.qc(a);var t=h.dc().$implicit;return h.dc().openDoubleCheck(t.id,!0)})),h.Sb(1,"i",8),h.Ac(2,"done"),h.Rb(),h.Rb(),h.Sb(3,"button",54),h.Zb("click",(function(){h.qc(a);var t=h.dc().$implicit;return h.dc().openDoubleCheck(t.id,!1)})),h.Sb(4,"i",8),h.Ac(5,"close"),h.Rb(),h.Rb()}}function lt(t,e){if(1&t){var a=h.Tb();h.Sb(0,"mat-cell",49),h.Sb(1,"div",50),h.Sb(2,"button",51),h.Zb("click",(function(){h.qc(a);var t=e.$implicit,n=h.dc();return n.expandedElement=n.expandedElement===t?null:t})),h.Sb(3,"i",8),h.Ac(4,"table_view"),h.Rb(),h.Rb(),h.yc(5,rt,6,0,"ng-template",52),h.Rb(),h.Rb()}if(2&t){var n=e.$implicit,i=h.dc();h.Bb(5),h.ic("ngIf",i.isAbleToManageRequest(n.status))}}function bt(t,e){if(1&t&&(h.Sb(0,"tr"),h.Sb(1,"td",59),h.Ac(2),h.Rb(),h.Sb(3,"td"),h.Ac(4),h.Rb(),h.Sb(5,"td"),h.Ac(6),h.Rb(),h.Sb(7,"td"),h.Ac(8),h.Rb(),h.Sb(9,"td"),h.Ac(10),h.Rb(),h.Rb()),2&t){var a=e.$implicit;h.Bb(2),h.Bc(a.id),h.Bb(2),h.Bc(a.description),h.Bb(2),h.Bc(a.unity),h.Bb(2),h.Bc(a.amount),h.Bb(2),h.Bc(a.group.description)}}function st(t,e){if(1&t&&(h.Sb(0,"mat-cell"),h.Sb(1,"div",55),h.Sb(2,"table",56),h.Sb(3,"thead"),h.Sb(4,"tr"),h.Sb(5,"th",57),h.Ac(6,"#"),h.Rb(),h.Sb(7,"th",57),h.Ac(8,"Material"),h.Rb(),h.Sb(9,"td",57),h.Ac(10,"Tipo de Unidade"),h.Rb(),h.Sb(11,"th",57),h.Ac(12,"Quantidade"),h.Rb(),h.Sb(13,"th",57),h.Ac(14,"Grupo"),h.Rb(),h.Rb(),h.Rb(),h.Sb(15,"tbody"),h.yc(16,bt,11,5,"tr",58),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&t){var a=e.$implicit,n=h.dc();h.Cb("colspan",n.columnsToDisplay.length),h.Bb(1),h.ic("@detailExpand",a==n.expandedElement?"expanded":"collapsed"),h.Bb(15),h.ic("ngForOf",a.materials)}}function dt(t,e){1&t&&h.Nb(0,"mat-header-row")}function mt(t,e){1&t&&h.Nb(0,"mat-row",60)}function ut(t,e){if(1&t&&h.Nb(0,"mat-row",61),2&t){var a=e.$implicit,n=h.dc();h.Eb("table__row--expanded",n.expandedElement===a)}}var gt=function(){return["/solicitacoes/criar"]},pt=function(){return["expandedRequest"]},ft=[{path:"",component:d.c,children:[{path:"",component:function(){function t(t,e,a,n){this._dialog=t,this._loadingService=e,this._requestService=a,this._storageSerivce=n,this.columnsToDisplay=["id","requester","justification","requestDate","desiredDate","priority","status","actions"],this.dataSource=new b.o,this.requestStatusEnums=f.d,this.requestPriorityEnums=f.c}return t.prototype.ngOnInit=function(){var t=JSON.parse(this._storageSerivce.getItem("userLoggedIn"));this.userLoggedIn=t,this._setRequestsList()},t.prototype.ngAfterViewInit=function(){this.dataSource.sort=this.sort},t.prototype.ngOnDestroy=function(){this.requestSubscription&&this.requestSubscription.unsubscribe()},t.prototype.applyFilter=function(t){this.dataSource.filter=t.trim().toLocaleLowerCase()},t.prototype.isAbleToManageRequest=function(t){return"VALIDATION"===t&&(1===this.userLoggedIn.permission.id||2===this.userLoggedIn.permission.id)},t.prototype.openDoubleCheck=function(t,e){var a=this;this._dialog.open(d.a,e?{data:{title:"Aprovar solicita\xe7\xe3o",description:"Tem certeza que deseja aprovar esta solicita\xe7\xe3o de compras?",onConfirm:function(){return a.approveRequest(t)}}}:{data:{title:"Recusar solicita\xe7\xe3o",description:"Tem certeza que deseja recusar esta solicita\xe7\xe3o de compras?",onConfirm:function(){return a.denyRequest(t)}}})},t.prototype.approveRequest=function(t){var e=this;this._loadingService.show(),this._requestService.setRequestStatus(t,"APPROVED"),setTimeout((function(){e._loadingService.hide(),e._giveFeedback("Solicita\xe7\xe3o aprovada com sucesso!","Clique em OK para prosseguir.")}),1e3)},t.prototype.denyRequest=function(t){var e=this;this._loadingService.show(),this._requestService.setRequestStatus(t,"DECLINED"),setTimeout((function(){e._loadingService.hide(),e._giveFeedback("Solicita\xe7\xe3o recusada.","Clique em OK para prosseguir.")}),1e3)},t.prototype._setRequestsList=function(){var t=this;this._requestService.fetchRequests(),this._requestService.requests.subscribe((function(e){e.length<=0||(t.dataSource=new b.o(e))}))},t.prototype._giveFeedback=function(t,e){this._dialog.open(d.b,{data:{title:t,description:e,routeToRedirect:"/solicitacoes"}})},t.\u0275fac=function(e){return new(e||t)(h.Mb(_.b),h.Mb(m.a),h.Mb(p.a),h.Mb(H.a))},t.\u0275cmp=h.Gb({type:t,selectors:[["app-dashboard"]],viewQuery:function(t,e){var a;1&t&&h.Dc(l.a,!0),2&t&&h.nc(a=h.ac())&&(e.sort=a.first)},decls:53,vars:7,consts:[[1,"main-content"],[1,"row","justify-content-between"],[1,"col-12","col-md-3"],["appearance","outline"],["matInput","","placeholder","Pesquisar",3,"keyup"],["matSuffix",""],[1,"col-12","col-md-3","mr-1","d-flex","justify-content-end"],["color","primary","rel","tooltip","mat-fab","","matTooltip","Criar solicita\xe7\xe3o",3,"routerLink"],[1,"material-icons"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-body"],[1,"table","table-responsive","mat-elevation-z8"],["matSortDisableClear","","matSortActive","id","matSortDirection","asc","multiTemplateDataRows","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["data-label","#",4,"matCellDef"],["matColumnDef","requester"],[4,"matHeaderCellDef"],["data-label","Solicitante",4,"matCellDef"],["matColumnDef","justification"],["data-label","Observa\xe7\xe3o",4,"matCellDef"],["matColumnDef","requestDate"],["data-label","Data Requisitada",4,"matCellDef"],["matColumnDef","desiredDate"],["data-label","Data Desejada",4,"matCellDef"],["matColumnDef","priority"],["data-label","Prioridade",4,"matCellDef"],["matColumnDef","status"],["data-label","Situa\xe7\xe3o",4,"matCellDef"],["matColumnDef","actions"],["class","td-actions text-center","data-label","A\xe7\xf5es",4,"matCellDef"],["matColumnDef","expandedRequest"],[4,"matCellDef"],[4,"matHeaderRowDef"],["class","table__row",4,"matRowDef","matRowDefColumns"],["class","table__row table__row--details",3,"table__row--expanded",4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],["data-label","#"],["data-label","Solicitante"],["data-label","Observa\xe7\xe3o"],["data-label","Data Requisitada"],["data-label","Data Desejada"],["data-label","Prioridade"],[1,"badge"],["data-label","Situa\xe7\xe3o"],["data-label","A\xe7\xf5es",1,"td-actions","text-center"],[1,"btn-group"],["mat-raised-button","","matTooltip","Visualizar Materiais","rel","tooltip","type","button",1,"btn","btn-info",3,"click"],[3,"ngIf"],["rel","tooltip","mat-raised-button","","matTooltip","Aprovar","type","button",1,"btn","btn-success",3,"click"],["rel","tooltip","mat-raised-button","","matTooltip","Recusar","type","button",1,"btn","btn-danger",3,"click"],[1,"example-element-detail"],[1,"table","table-responsive","table--expanded"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"table__row"],[1,"table__row","table__row--details"]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.Sb(1,"div",1),h.Sb(2,"div",2),h.Sb(3,"mat-form-field",3),h.Sb(4,"mat-label"),h.Ac(5,"Pesquisar"),h.Rb(),h.Sb(6,"input",4),h.Zb("keyup",(function(t){return e.applyFilter(t.target.value)})),h.Rb(),h.Sb(7,"mat-icon",5),h.Ac(8,"search"),h.Rb(),h.Sb(9,"mat-hint"),h.Ac(10,"Exemplo: Observa\xe7\xe3o, datas"),h.Rb(),h.Rb(),h.Rb(),h.Sb(11,"div",6),h.Sb(12,"button",7),h.Sb(13,"i",8),h.Ac(14,"add"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(15,"div",9),h.Sb(16,"div",10),h.Sb(17,"div",11),h.Sb(18,"div",12),h.Sb(19,"h4",13),h.Ac(20,"Solicita\xe7\xf5es de Compra"),h.Rb(),h.Rb(),h.Sb(21,"div",14),h.Sb(22,"div",15),h.Sb(23,"mat-table",16),h.Qb(24,17),h.yc(25,Z,2,0,"mat-header-cell",18),h.yc(26,K,2,1,"mat-cell",19),h.Pb(),h.Qb(27,20),h.yc(28,V,2,0,"mat-header-cell",21),h.yc(29,U,2,1,"mat-cell",22),h.Pb(),h.Qb(30,23),h.yc(31,X,2,0,"mat-header-cell",18),h.yc(32,J,2,1,"mat-cell",24),h.Pb(),h.Qb(33,25),h.yc(34,W,2,0,"mat-header-cell",18),h.yc(35,Y,3,3,"mat-cell",26),h.Pb(),h.Qb(36,27),h.yc(37,tt,2,0,"mat-header-cell",18),h.yc(38,et,3,3,"mat-cell",28),h.Pb(),h.Qb(39,29),h.yc(40,at,2,0,"mat-header-cell",18),h.yc(41,nt,3,7,"mat-cell",30),h.Pb(),h.Qb(42,31),h.yc(43,it,2,0,"mat-header-cell",18),h.yc(44,ot,3,7,"mat-cell",32),h.Pb(),h.Qb(45,33),h.yc(46,ct,2,0,"mat-header-cell",21),h.yc(47,lt,6,1,"mat-cell",34),h.Pb(),h.Qb(48,35),h.yc(49,st,17,3,"mat-cell",36),h.Pb(),h.yc(50,dt,1,0,"mat-header-row",37),h.yc(51,mt,1,0,"mat-row",38),h.yc(52,ut,1,2,"mat-row",39),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&t&&(h.Bb(12),h.ic("routerLink",h.kc(5,gt)),h.Bb(11),h.ic("dataSource",e.dataSource),h.Bb(27),h.ic("matHeaderRowDef",e.columnsToDisplay),h.Bb(1),h.ic("matRowDefColumns",e.columnsToDisplay),h.Bb(1),h.ic("matRowDefColumns",h.kc(6,pt)))},directives:[C.c,C.g,S.b,M.a,C.h,C.f,v.b,P.a,o.e,b.n,l.a,b.c,b.i,b.b,b.k,b.m,b.h,l.b,b.a,n.l,n.k,b.j,b.l],pipes:[G.a],styles:[".main-content[_ngcontent-%COMP%]   .td-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.main-content[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.8rem;letter-spacing:1px}.main-content[_ngcontent-%COMP%]   .badge.badge--large[_ngcontent-%COMP%]{width:100%;font-size:1.5rem}@media only screen and (min-width:992px){.main-content[_ngcontent-%COMP%]   .badge.badge--large[_ngcontent-%COMP%]{margin-top:.2rem;padding:.8rem 0}}.main-content[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{padding:1rem 0;font-weight:400;font-size:1rem}.main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid #ababab}.main-content[_ngcontent-%COMP%]   .table__row.table__row--details[_ngcontent-%COMP%]{height:0;min-height:0;overflow:hidden}@media screen and (max-width:992px){.main-content[_ngcontent-%COMP%]   .table__row.table__row--details.table__row--expanded[_ngcontent-%COMP%]{height:auto}.main-content[_ngcontent-%COMP%]   .table__row.table__row--details.table__row--expanded[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{height:auto;overflow:auto}}@media only screen and (min-width:992px){.main-content[_ngcontent-%COMP%]   .table__row.table__row--details[_ngcontent-%COMP%]{height:auto;min-height:auto;overflow:auto}}.main-content[_ngcontent-%COMP%]   .table__row.table__row--disabled[_ngcontent-%COMP%]{background-color:#dedede}.main-content[_ngcontent-%COMP%]   .table__row[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{max-width:135px}.main-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#dedede}@media screen and (max-width:992px){.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{vertical-align:middle;border:0}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1em}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{display:none}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{display:block;min-height:auto}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:not(:last-child){border-bottom:5px solid #ddd}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:50px;margin-bottom:4%;padding:0 1rem;overflow-y:auto;font-size:1em;text-align:right;border-bottom:1px solid #ddd}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:before{float:left;margin-right:1rem;font-weight:700;font-size:.85em;text-transform:uppercase;content:attr(data-label)}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child{margin-top:4%}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-child{margin-bottom:0;border-bottom:0}}"],data:{animation:[Object($.n)("detailExpand",[Object($.k)("collapsed",Object($.l)({height:"0px",minHeight:"0"})),Object($.k)("expanded",Object($.l)({height:"*",minHeight:"*"})),Object($.m)("expanded <=> collapsed",Object($.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t}()},{path:"criar",component:Q}]}],ht=function(){function t(){}return t.\u0275mod=h.Kb({type:t}),t.\u0275inj=h.Jb({factory:function(e){return new(e||t)},imports:[[o.h.forChild(ft)],o.h]}),t}(),_t=a("PCNd"),Ct=a("oZWX"),St=a("iTUp"),Mt=function(){function t(){}return t.\u0275mod=h.Kb({type:t}),t.\u0275inj=h.Jb({factory:function(e){return new(e||t)},providers:[Ct.a],imports:[[n.c,i.g,c.a,St.a,i.p,ht,o.h,_t.a]]}),t}()}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"UYr/":function(t,e,a){"use strict";a.r(e),a.d(e,"PricesModule",(function(){return kt}));var n=a("ofXK"),i=a("3Pt+"),c=a("tyNb"),o=a("agfR"),r=a("iTUp"),l=a("mrSG"),b=a("R0Ic"),d=a("Dh3D"),s=a("+0xr"),m=a("wd/R"),u=a("1ua0"),p=a("IDco"),f=a("RVEH"),g=a("Edqf"),h=a("QMTT"),S=a("vglk"),_=a("fXoL"),C=a("0IaG"),R=a("bTqV"),P=a("Qu3c"),v=a("bSwM"),M=a("kmnG"),O=a("qFsG"),w=a("iadO"),x=a("d3UM"),D=a("ihCf"),z=a("FKr1"),y=a("CGfp");function B(t,e){1&t&&(_.Sb(0,"mat-header-cell",35),_.zc(1,"#"),_.Rb())}function q(t,e){if(1&t&&(_.Sb(0,"mat-cell",36),_.zc(1),_.Rb()),2&t){var a=e.$implicit;_.Bb(1),_.Bc(" ",a.id," ")}}function k(t,e){1&t&&(_.Sb(0,"mat-header-cell"),_.zc(1,"Solicitante"),_.Rb())}function E(t,e){if(1&t&&(_.Sb(0,"mat-cell",37),_.zc(1),_.Rb()),2&t){var a=e.$implicit;_.Bb(1),_.Bc(" ",a.requester.name," ")}}function j(t,e){1&t&&(_.Sb(0,"mat-header-cell",35),_.zc(1,"Observa\xe7\xe3o"),_.Rb())}function F(t,e){if(1&t&&(_.Sb(0,"mat-cell",38),_.zc(1),_.Rb()),2&t){var a=e.$implicit;_.Bb(1),_.Bc(" ",a.justification||"-"," ")}}function T(t,e){1&t&&(_.Sb(0,"mat-header-cell",35),_.zc(1,"Data Requisitada"),_.Rb())}function A(t,e){if(1&t&&(_.Sb(0,"mat-cell",39),_.zc(1),_.ec(2,"dateFormat"),_.Rb()),2&t){var a=e.$implicit;_.Bb(1),_.Bc(" ",_.fc(2,1,a.requestDate)," ")}}function Q(t,e){1&t&&(_.Sb(0,"mat-header-cell",35),_.zc(1,"Data Desejada"),_.Rb())}function $(t,e){if(1&t&&(_.Sb(0,"mat-cell",40),_.zc(1),_.ec(2,"dateFormat"),_.Rb()),2&t){var a=e.$implicit;_.Bb(1),_.Bc(" ",_.fc(2,1,a.desiredDate)," ")}}function N(t,e){1&t&&(_.Sb(0,"mat-header-cell",35),_.zc(1,"Prioridadade"),_.Rb())}function I(t,e){if(1&t&&(_.Sb(0,"mat-cell",41),_.Sb(1,"span",42),_.zc(2),_.Rb(),_.Rb()),2&t){var a=e.$implicit,n=_.dc(2);_.Bb(1),_.Eb("badge-success","Baixa"===n.requestPriorityEnums[a.priority])("badge-warning","Alta"===n.requestPriorityEnums[a.priority])("badge-danger","Cr\xedtica"===n.requestPriorityEnums[a.priority]),_.Bb(1),_.Bc(" ",n.requestPriorityEnums[a.priority]," ")}}function L(t,e){1&t&&(_.Sb(0,"mat-header-cell",35),_.zc(1,"Situa\xe7\xe3o"),_.Rb())}function H(t,e){if(1&t&&(_.Sb(0,"mat-cell",43),_.Sb(1,"span",42),_.zc(2),_.Rb(),_.Rb()),2&t){var a=e.$implicit,n=_.dc(2);_.Bb(1),_.Eb("badge-success","Aprovada"===n.requestStatusEnums[a.status]),_.Bb(1),_.Bc(" ",n.requestStatusEnums[a.status]," ")}}function G(t,e){1&t&&(_.Sb(0,"mat-header-cell"),_.zc(1,"A\xe7\xf5es"),_.Rb())}function V(t,e){if(1&t){var a=_.Tb();_.Sb(0,"mat-cell",44),_.Sb(1,"div",45),_.Sb(2,"button",46),_.Zb("click",(function(){_.pc(a);var t=e.$implicit,n=_.dc(2);return n.expandedElement=n.expandedElement===t?null:t})),_.Sb(3,"i",47),_.zc(4,"table_view"),_.Rb(),_.Rb(),_.Rb(),_.Rb()}}function Z(t,e){if(1&t){var a=_.Tb();_.Sb(0,"tr"),_.Sb(1,"td",52),_.Sb(2,"mat-checkbox",53),_.Zb("change",(function(t){_.pc(a);var n=e.$implicit,i=_.dc().$implicit;return _.dc(2).handleMaterialCheck(t.checked,i,n)})),_.Rb(),_.Rb(),_.Sb(3,"td"),_.zc(4),_.Rb(),_.Sb(5,"td"),_.zc(6),_.Rb(),_.Sb(7,"td"),_.zc(8),_.Rb(),_.Sb(9,"td"),_.zc(10),_.Rb(),_.Sb(11,"td"),_.zc(12),_.Rb(),_.Rb()}if(2&t){var n=e.$implicit;_.Bb(4),_.Ac(n.id),_.Bb(2),_.Ac(n.description),_.Bb(2),_.Ac(n.unity),_.Bb(2),_.Ac(n.amount),_.Bb(2),_.Ac(n.group.description)}}function K(t,e){if(1&t&&(_.Sb(0,"mat-cell"),_.Sb(1,"div",48),_.Sb(2,"table",49),_.Sb(3,"thead"),_.Sb(4,"tr"),_.Nb(5,"th",50),_.Sb(6,"th",50),_.zc(7,"#"),_.Rb(),_.Sb(8,"th",50),_.zc(9,"Material"),_.Rb(),_.Sb(10,"td",50),_.zc(11,"Tipo de Unidade"),_.Rb(),_.Sb(12,"th",50),_.zc(13,"Quantidade"),_.Rb(),_.Sb(14,"th",50),_.zc(15,"Grupo"),_.Rb(),_.Rb(),_.Rb(),_.Sb(16,"tbody"),_.xc(17,Z,13,5,"tr",51),_.Rb(),_.Rb(),_.Rb(),_.Rb()),2&t){var a=e.$implicit,n=_.dc(2);_.Cb("colspan",n.columnsToDisplay.length),_.Bb(1),_.ic("@detailExpand",a==n.expandedElement?"expanded":"collapsed"),_.Bb(16),_.ic("ngForOf",a.materials)}}function U(t,e){1&t&&_.Nb(0,"mat-header-row")}function J(t,e){1&t&&_.Nb(0,"mat-row",54)}function X(t,e){if(1&t&&_.Nb(0,"mat-row",55),2&t){var a=e.$implicit,n=_.dc(2);_.Eb("table__row--expanded",n.expandedElement===a)}}var W=function(){return["expandedRequest"]};function Y(t,e){if(1&t&&(_.Sb(0,"div",10),_.Sb(1,"mat-table",11),_.Qb(2,12),_.xc(3,B,2,0,"mat-header-cell",13),_.xc(4,q,2,1,"mat-cell",14),_.Pb(),_.Qb(5,15),_.xc(6,k,2,0,"mat-header-cell",16),_.xc(7,E,2,1,"mat-cell",17),_.Pb(),_.Qb(8,18),_.xc(9,j,2,0,"mat-header-cell",13),_.xc(10,F,2,1,"mat-cell",19),_.Pb(),_.Qb(11,20),_.xc(12,T,2,0,"mat-header-cell",13),_.xc(13,A,3,3,"mat-cell",21),_.Pb(),_.Qb(14,22),_.xc(15,Q,2,0,"mat-header-cell",13),_.xc(16,$,3,3,"mat-cell",23),_.Pb(),_.Qb(17,24),_.xc(18,N,2,0,"mat-header-cell",13),_.xc(19,I,3,7,"mat-cell",25),_.Pb(),_.Qb(20,26),_.xc(21,L,2,0,"mat-header-cell",13),_.xc(22,H,3,3,"mat-cell",27),_.Pb(),_.Qb(23,28),_.xc(24,G,2,0,"mat-header-cell",16),_.xc(25,V,5,0,"mat-cell",29),_.Pb(),_.Qb(26,30),_.xc(27,K,18,3,"mat-cell",31),_.Pb(),_.xc(28,U,1,0,"mat-header-row",32),_.xc(29,J,1,0,"mat-row",33),_.xc(30,X,1,2,"mat-row",34),_.Rb(),_.Rb()),2&t){var a=_.dc();_.Bb(1),_.ic("dataSource",a.dataSource),_.Bb(27),_.ic("matHeaderRowDef",a.columnsToDisplay),_.Bb(1),_.ic("matRowDefColumns",a.columnsToDisplay),_.Bb(1),_.ic("matRowDefColumns",_.jc(4,W))}}function tt(t,e){1&t&&(_.Sb(0,"p"),_.zc(1,"N\xe3o h\xe1 Solicita\xe7\xf5es aprovadas no momento."),_.Rb())}function et(t,e){if(1&t&&(_.Sb(0,"mat-option",69),_.zc(1),_.Rb()),2&t){var a=e.$implicit;_.ic("value",a),_.Bb(1),_.Bc(" ",a.companyName," ")}}function at(t,e){if(1&t){var a=_.Tb();_.Sb(0,"div",3),_.Sb(1,"div",56),_.Sb(2,"h4",5),_.zc(3,"Preencha o formul\xe1rio"),_.Rb(),_.Rb(),_.Sb(4,"div",6),_.Sb(5,"form",57),_.Zb("submit",(function(){return _.pc(a),_.dc().createPriceMaterial()})),_.Sb(6,"div",1),_.Sb(7,"div",58),_.Sb(8,"mat-form-field",59),_.Sb(9,"mat-label"),_.zc(10,"Data de entrega desejada"),_.Rb(),_.Nb(11,"input",60),_.Nb(12,"mat-datepicker-toggle",61),_.Nb(13,"mat-datepicker",null,62),_.Rb(),_.Rb(),_.Sb(15,"div",58),_.Sb(16,"mat-form-field",59),_.Sb(17,"mat-label"),_.zc(18,"Fornecedores"),_.Rb(),_.Sb(19,"mat-select",63),_.xc(20,et,2,2,"mat-option",64),_.Rb(),_.Rb(),_.Rb(),_.Sb(21,"div",2),_.Sb(22,"mat-form-field",59),_.Sb(23,"mat-label"),_.zc(24,"Observa\xe7\xf5es"),_.Rb(),_.Sb(25,"textarea",65,66),_.zc(27,"                                    "),_.Rb(),_.Rb(),_.Rb(),_.Rb(),_.Sb(28,"div",1),_.Sb(29,"div",67),_.Sb(30,"button",68),_.zc(31,"Enviar"),_.Rb(),_.Rb(),_.Rb(),_.Rb(),_.Rb(),_.Rb()}if(2&t){var n=_.nc(14),i=_.dc();_.Bb(5),_.ic("formGroup",i.priceForm),_.Bb(6),_.ic("min",i.minDate)("matDatepicker",n),_.Bb(1),_.ic("for",n),_.Bb(8),_.ic("ngForOf",i.providersList),_.Bb(10),_.ic("disabled",i.priceForm.invalid)}}var nt=function(){function t(t,e,a,n,c,o){this._dialog=t,this._loadingService=e,this.fb=a,this._requestService=n,this._priceService=c,this._providerService=o,this.columnsToDisplay=["id","requester","justification","requestDate","desiredDate","priority","status","actions"],this.dataSource=new s.k,this.requestPriorityEnums=g.c,this.requestStatusEnums=g.d,this.minDate=new Date,this.providersList=[],this.selectedMaterials=[],this.priceForm=this.fb.group({deadlineDate:["",i.r.required],description:[""],providers:["",i.r.required]})}return t.prototype.ngOnInit=function(){this._setRequestsList(),this._setProvidersList()},t.prototype.ngAfterViewInit=function(){this.dataSource.sort=this.sort},t.prototype.ngOnDestroy=function(){this.requestSubscription&&this.requestSubscription.unsubscribe()},t.prototype.applyFilter=function(t){this.dataSource.filter=t.trim().toLocaleLowerCase()},t.prototype.handleMaterialCheck=function(t,e,a){if(t){var n=Object(l.c)(e,["materials"]),i={material:a,request:Object(l.a)({},n)};this.selectedMaterials.push(i)}else{var c=this.selectedMaterials.findIndex((function(t){return t.material.id===a.id&&t.request.id===e.id}));this.selectedMaterials.splice(c,1)}},t.prototype.createPriceMaterial=function(){var t=this;this._loadingService.show();var e=[],a=this.priceForm.value,n=a.description,i=a.providers,c={deadlineDate:m(a.deadlineDate).format(),description:n,id:this._priceService.getLastPriceId()+1,requestDate:m().format(),status:"WAITING"};this.selectedMaterials.map((function(t){i.map((function(a){e.push({material:t.material,priceId:c.id,provider:a,request:t.request})}))})),setTimeout((function(){t.selectedMaterials=[],t._clearForm(),t._giveFeedback(),t._priceService.setNewPrices(c),t._priceService.setNewPricesMaterials(e),t._loadingService.hide()}),2e3)},t.prototype._setRequestsList=function(){var t=this;this._requestService.fetchRequests(),this.requestSubscription=this._requestService.requests.subscribe((function(e){if(!(e.length<=0)){var a=e.filter((function(t){return"APPROVED"===t.status}));t.dataSource=new s.k(a)}}))},t.prototype._setProvidersList=function(){var t=this;this._providerService.fetchProviders(),this.providerSubscription=this._providerService.providers.subscribe((function(e){e.length<=0||(t.providersList=e)}))},t.prototype._giveFeedback=function(){this._dialog.open(u.a,{data:{title:"Cota\xe7\xe3o criada com sucesso!",description:"Clique em OK para conferir sua nova cota\xe7\xe3o.",routeToRedirect:"/cotacoes"}})},t.prototype._clearForm=function(){this.priceForm.reset()},t.\u0275fac=function(e){return new(e||t)(_.Mb(C.b),_.Mb(S.a),_.Mb(i.d),_.Mb(f.a),_.Mb(h.a),_.Mb(p.a))},t.\u0275cmp=_.Gb({type:t,selectors:[["app-create"]],viewQuery:function(t,e){var a;1&t&&_.Cc(d.a,!0),2&t&&_.mc(a=_.ac())&&(e.sort=a.first)},decls:12,vars:3,consts:[[1,"main-content"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-body"],["class","table table-responsive mat-elevation-z8",4,"ngIf","ngIfElse"],["feedback",""],["class","card",4,"ngIf"],[1,"table","table-responsive","mat-elevation-z8"],["matSortDisableClear","","matSortActive","id","matSortDirection","asc","multiTemplateDataRows","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["data-label","#",4,"matCellDef"],["matColumnDef","requester"],[4,"matHeaderCellDef"],["data-label","Solicitante",4,"matCellDef"],["matColumnDef","justification"],["data-label","Observa\xe7\xe3o",4,"matCellDef"],["matColumnDef","requestDate"],["data-label","Data Requisitada",4,"matCellDef"],["matColumnDef","desiredDate"],["data-label","Data Desejada",4,"matCellDef"],["matColumnDef","priority"],["data-label","Prioridade",4,"matCellDef"],["matColumnDef","status"],["data-label","Situa\xe7\xe3o",4,"matCellDef"],["matColumnDef","actions"],["class","td-actions text-center","data-label","A\xe7\xf5es",4,"matCellDef"],["matColumnDef","expandedRequest"],[4,"matCellDef"],[4,"matHeaderRowDef"],["class","table__row",4,"matRowDef","matRowDefColumns"],["class","table__row table__row--details",3,"table__row--expanded",4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],["data-label","#"],["data-label","Solicitante"],["data-label","Observa\xe7\xe3o"],["data-label","Data Requisitada"],["data-label","Data Desejada"],["data-label","Prioridade"],[1,"badge"],["data-label","Situa\xe7\xe3o"],["data-label","A\xe7\xf5es",1,"td-actions","text-center"],[1,"btn-group"],["mat-raised-button","","matTooltip","Visualizar Materiais","rel","tooltip","type","button",1,"btn","btn-info",3,"click"],[1,"material-icons"],[1,"example-element-detail"],[1,"table","table-responsive","table--expanded"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[3,"change"],[1,"table__row"],[1,"table__row","table__row--details"],[1,"card-header","card-header-warning"],[3,"formGroup","submit"],[1,"col-12","col-md-6"],["appearance","outline"],["formControlName","deadlineDate","matInput","","required","","readonly","",3,"min","matDatepicker"],["matSuffix","",3,"for"],["picker",""],["formControlName","providers","required","","multiple",""],[3,"value",4,"ngFor","ngForOf"],["cdkAutosizeMaxRows","5","cdkAutosizeMinRows","1","cdkTextareaAutosize","","formControlName","description","matInput","","maxlength","80"],["autosize","cdkTextareaAutosize"],[1,"col-12","offset-md-10","col-md-2"],["mat-raised-button","","color","primary","type","submit",1,"btn-block",3,"disabled"],[3,"value"]],template:function(t,e){if(1&t&&(_.Sb(0,"div",0),_.Sb(1,"div",1),_.Sb(2,"div",2),_.Sb(3,"div",3),_.Sb(4,"div",4),_.Sb(5,"h4",5),_.zc(6,"Escolha os materiais"),_.Rb(),_.Rb(),_.Sb(7,"div",6),_.xc(8,Y,31,5,"div",7),_.xc(9,tt,2,0,"ng-template",null,8,_.yc),_.Rb(),_.Rb(),_.Rb(),_.Rb(),_.xc(11,at,32,6,"div",9),_.Rb()),2&t){var a=_.nc(10);_.Bb(8),_.ic("ngIf",e.dataSource.data.length>0)("ngIfElse",a),_.Bb(3),_.ic("ngIf",e.selectedMaterials.length>0)}},directives:[n.l,s.j,d.a,s.c,s.e,s.b,s.g,s.i,s.d,d.b,s.a,R.b,P.a,n.k,v.a,s.f,s.h,i.s,i.m,i.f,M.b,M.f,i.c,O.b,w.b,i.l,i.e,i.q,w.d,M.g,w.a,x.a,D.b,i.h,z.n],pipes:[y.a],styles:[".main-content[_ngcontent-%COMP%]   .td-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.main-content[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.8rem;letter-spacing:1px}.main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid #ababab}.main-content[_ngcontent-%COMP%]   .table__row.table__row--details[_ngcontent-%COMP%]{height:0;min-height:0;overflow:hidden}@media screen and (max-width:992px){.main-content[_ngcontent-%COMP%]   .table__row.table__row--details.table__row--expanded[_ngcontent-%COMP%]{height:auto}.main-content[_ngcontent-%COMP%]   .table__row.table__row--details.table__row--expanded[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{height:auto;overflow:auto}}@media only screen and (min-width:992px){.main-content[_ngcontent-%COMP%]   .table__row.table__row--details[_ngcontent-%COMP%]{height:auto;min-height:auto;overflow:auto}}.main-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#dedede}@media screen and (max-width:992px){.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{vertical-align:middle;border:0}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1em}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{display:none}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{display:block;min-height:auto}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:not(:last-child){border-bottom:5px solid #ddd}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:50px;margin-bottom:4%;padding:0 1rem;overflow-y:auto;font-size:1em;text-align:right;border-bottom:1px solid #ddd}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:before{float:left;margin-right:1rem;font-weight:700;font-size:.85em;text-transform:uppercase;content:attr(data-label)}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child{margin-top:4%}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-child{margin-bottom:0;border-bottom:0}}"],data:{animation:[Object(b.n)("detailExpand",[Object(b.k)("collapsed",Object(b.l)({height:"0px",minHeight:"0"})),Object(b.k)("expanded",Object(b.l)({height:"*",minHeight:"*"})),Object(b.m)("expanded <=> collapsed",Object(b.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t}(),it=a("NFeN"),ct=a("EbQt");function ot(t,e){1&t&&(_.Sb(0,"mat-header-cell",40),_.zc(1,"#"),_.Rb())}function rt(t,e){if(1&t&&(_.Sb(0,"mat-cell",41),_.zc(1),_.Rb()),2&t){var a=e.$implicit;_.Bb(1),_.Bc(" ",a.id," ")}}function lt(t,e){1&t&&(_.Sb(0,"mat-header-cell",40),_.zc(1,"Observa\xe7\xe3o"),_.Rb())}function bt(t,e){if(1&t&&(_.Sb(0,"mat-cell",42),_.zc(1),_.Rb()),2&t){var a=e.$implicit;_.Bb(1),_.Bc(" ",a.description," ")}}function dt(t,e){1&t&&(_.Sb(0,"mat-header-cell",40),_.zc(1,"Criado em"),_.Rb())}function st(t,e){if(1&t&&(_.Sb(0,"mat-cell",43),_.zc(1),_.ec(2,"dateFormat"),_.Rb()),2&t){var a=e.$implicit;_.Bb(1),_.Bc(" ",_.fc(2,1,a.requestDate)," ")}}function mt(t,e){1&t&&(_.Sb(0,"mat-header-cell",40),_.zc(1,"Data Desejada"),_.Rb())}function ut(t,e){if(1&t&&(_.Sb(0,"mat-cell",44),_.zc(1),_.ec(2,"dateFormat"),_.Rb()),2&t){var a=e.$implicit;_.Bb(1),_.Bc(" ",_.fc(2,1,a.deadlineDate)," ")}}function pt(t,e){1&t&&(_.Sb(0,"mat-header-cell",40),_.zc(1,"Situa\xe7\xe3o"),_.Rb())}function ft(t,e){if(1&t&&(_.Sb(0,"mat-cell",45),_.Sb(1,"span",46),_.zc(2),_.Rb(),_.Rb()),2&t){var a=e.$implicit,n=_.dc();_.Bb(1),_.Eb("badge-warning","Em cota\xe7\xe3o"===n.priceStatusEnum[a.status])("badge-danger","Cancelado"===n.priceStatusEnum[a.status])("badge-success","Conclu\xeddo"===n.priceStatusEnum[a.status]),_.Bb(1),_.Bc(" ",n.priceStatusEnum[a.status]," ")}}function gt(t,e){1&t&&(_.Sb(0,"mat-header-cell",40),_.zc(1,"Respondido em"),_.Rb())}function ht(t,e){if(1&t&&(_.Sb(0,"mat-cell",47),_.zc(1),_.ec(2,"dateFormat"),_.Rb()),2&t){var a=e.$implicit;_.Bb(1),_.Bc(" ",_.fc(2,1,a.responseDate)," ")}}function St(t,e){1&t&&(_.Sb(0,"mat-header-cell",40),_.zc(1,"Prazo sugerido"),_.Rb())}function _t(t,e){if(1&t&&(_.Sb(0,"mat-cell",48),_.zc(1),_.ec(2,"dateFormat"),_.Rb()),2&t){var a=e.$implicit;_.Bb(1),_.Bc(" ",_.fc(2,1,a.suggestedDate)," ")}}function Ct(t,e){1&t&&(_.Sb(0,"mat-header-cell"),_.zc(1,"A\xe7\xf5es"),_.Rb())}function Rt(t,e){if(1&t){var a=_.Tb();_.Sb(0,"mat-cell",49),_.Sb(1,"div",50),_.Sb(2,"button",51),_.Zb("click",(function(){_.pc(a);var t=e.$implicit,n=_.dc();return n.expandedElement=n.expandedElement===t?null:t})),_.Sb(3,"i",8),_.zc(4,"table_view"),_.Rb(),_.Rb(),_.Sb(5,"button",52),_.Sb(6,"i",8),_.zc(7,"edit"),_.Rb(),_.Rb(),_.Sb(8,"button",53),_.Sb(9,"i",8),_.zc(10,"close"),_.Rb(),_.Rb(),_.Rb(),_.Rb()}}function Pt(t,e){if(1&t&&(_.Sb(0,"tr"),_.Sb(1,"td",58),_.zc(2),_.Rb(),_.Sb(3,"td"),_.zc(4),_.Rb(),_.Sb(5,"td"),_.zc(6),_.Rb(),_.Sb(7,"td"),_.zc(8),_.ec(9,"currencyBrl"),_.Rb(),_.Sb(10,"td"),_.zc(11),_.ec(12,"currencyBrl"),_.Rb(),_.Rb()),2&t){var a=e.$implicit;_.Bb(2),_.Ac(a.provider.companyName),_.Bb(2),_.Ac(a.material.description),_.Bb(2),_.Ac(a.material.amount),_.Bb(2),_.Ac(_.fc(9,5,a.unityPrice)),_.Bb(3),_.Bc("",_.fc(12,7,a.unityPrice*a.material.amount)," ")}}function vt(t,e){if(1&t&&(_.Sb(0,"mat-cell"),_.Sb(1,"div"),_.Sb(2,"table",54),_.Sb(3,"thead"),_.Sb(4,"tr"),_.Sb(5,"th",55),_.zc(6,"Fornecedor"),_.Rb(),_.Sb(7,"th",55),_.zc(8,"Material"),_.Rb(),_.Sb(9,"th",55),_.zc(10,"Quantidade"),_.Rb(),_.Sb(11,"th",55),_.zc(12,"Pre\xe7o Unit\xe1rio"),_.Rb(),_.Sb(13,"th",55),_.zc(14,"Subtotal"),_.Rb(),_.Rb(),_.Rb(),_.Sb(15,"tbody"),_.xc(16,Pt,13,9,"tr",56),_.Rb(),_.Sb(17,"tfoot"),_.Sb(18,"tr"),_.Sb(19,"th",57),_.Sb(20,"strong"),_.zc(21,"Frete"),_.Rb(),_.Rb(),_.Sb(22,"td"),_.zc(23),_.ec(24,"currencyBrl"),_.Rb(),_.Sb(25,"th",58),_.Sb(26,"strong"),_.zc(27,"TOTAL"),_.Rb(),_.Rb(),_.Sb(28,"td"),_.Sb(29,"strong"),_.zc(30),_.ec(31,"currencyBrl"),_.Rb(),_.Rb(),_.Rb(),_.Rb(),_.Rb(),_.Rb(),_.Rb()),2&t){var a=e.$implicit,n=_.dc();_.Cb("colspan",n.columnsToDisplay.length),_.Bb(1),_.ic("@detailExpand",a==n.expandedElement?"expanded":"collapsed"),_.Bb(15),_.ic("ngForOf",n.getMaterialsPrices(a.id)),_.Bb(7),_.Ac(_.fc(24,5,a.fare)),_.Bb(7),_.Ac(_.fc(31,7,n.getTotalPrice(a.id)+a.fare))}}function Mt(t,e){1&t&&_.Nb(0,"mat-header-row")}function Ot(t,e){1&t&&_.Nb(0,"mat-row",59)}function wt(t,e){if(1&t&&_.Nb(0,"mat-row",60),2&t){var a=e.$implicit,n=_.dc();_.Eb("table__row--expanded",n.expandedElement===a)}}var xt=function(){return["/cotacoes/criar"]},Dt=function(){return["expandedMaterialPrice"]},zt=[{path:"",component:u.b,children:[{path:"",component:function(){function t(t){this._priceService=t,this.dataSource=new s.k,this.columnsToDisplay=["id","description","requestDate","deadline","status","responseDate","suggestedDate","actions"],this.priceStatusEnum=g.b,this.pricesMaterialsList=[]}return t.prototype.ngOnInit=function(){this._setPricesList()},t.prototype.ngAfterViewInit=function(){this.dataSource.sort=this.sort},t.prototype.ngOnDestroy=function(){this.pricesSubscription&&this.pricesSubscription.unsubscribe(),this.pricesMaterialSubscription&&this.pricesMaterialSubscription.unsubscribe()},t.prototype.applyFilter=function(t){this.dataSource.filter=t.trim().toLocaleLowerCase()},t.prototype.getMaterialsPrices=function(t){return this.pricesMaterialsList.filter((function(e){return e.priceId===t}))},t.prototype.getTotalPrice=function(t){var e=0;return this.getMaterialsPrices(t).map((function(t){e+=t.material.amount*t.unityPrice})),e},t.prototype._setPricesList=function(){var t=this;this._priceService.fetchPrices(),this.pricesSubscription=this._priceService.prices.subscribe((function(e){e.length<=0||(t.dataSource=new s.k(e))})),this.pricesMaterialSubscription=this._priceService.pricesMaterials.subscribe((function(e){e.length<=0||(t.pricesMaterialsList=e)}))},t.\u0275fac=function(e){return new(e||t)(_.Mb(h.a))},t.\u0275cmp=_.Gb({type:t,selectors:[["app-dashboard"]],viewQuery:function(t,e){var a;1&t&&_.Cc(d.a,!0),2&t&&_.mc(a=_.ac())&&(e.sort=a.first)},decls:53,vars:7,consts:[[1,"main-content"],[1,"row","justify-content-between"],[1,"col-12","col-md-3"],["appearance","outline"],["matInput","","placeholder","Observa\xe7\xe3o, Situa\xe7\xe3o",3,"keyup"],["matSuffix",""],[1,"col-12","col-md-3","mr-1","d-flex","justify-content-end"],["color","primary","rel","tooltip","mat-fab","","matTooltip","Criar cota\xe7\xe3o",3,"routerLink"],[1,"material-icons"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-body"],[1,"table","table-responsive","mat-elevation-z8"],["matSortDisableClear","","matSortActive","id","matSortDirection","asc","multiTemplateDataRows","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["data-label","#",4,"matCellDef"],["matColumnDef","description"],["data-label","Observa\xe7\xe3o",4,"matCellDef"],["matColumnDef","requestDate"],["data-label","Criado em",4,"matCellDef"],["matColumnDef","deadline"],["data-label","Data Desejada",4,"matCellDef"],["matColumnDef","status"],["data-label","Situa\xe7\xe3o",4,"matCellDef"],["matColumnDef","responseDate"],["data-label","Respondido em",4,"matCellDef"],["matColumnDef","suggestedDate"],["data-label","Prazo sugerido",4,"matCellDef"],["matColumnDef","actions"],[4,"matHeaderCellDef"],["class","td-actions text-center","data-label","A\xe7\xf5es",4,"matCellDef"],["matColumnDef","expandedMaterialPrice"],[4,"matCellDef"],[4,"matHeaderRowDef"],["class","table__row",4,"matRowDef","matRowDefColumns"],["class","table__row table__row--details",3,"table__row--expanded",4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],["data-label","#"],["data-label","Observa\xe7\xe3o"],["data-label","Criado em"],["data-label","Data Desejada"],["data-label","Situa\xe7\xe3o"],[1,"badge"],["data-label","Respondido em"],["data-label","Prazo sugerido"],["data-label","A\xe7\xf5es",1,"td-actions","text-center"],[1,"btn-group"],["mat-raised-button","","matTooltip","Visualizar Materiais","rel","tooltip","type","button",1,"btn","btn-info",3,"click"],["rel","tooltip","mat-raised-button","","matTooltip","Editar","type","button",1,"btn","btn-warning"],["rel","tooltip","mat-raised-button","","matTooltip","Excluir","type","button",1,"btn","btn-danger"],[1,"table","table-responsive","table--expanded"],["scope","col"],[4,"ngFor","ngForOf"],["colspan","2","scope","row"],["scope","row"],[1,"table__row"],[1,"table__row","table__row--details"]],template:function(t,e){1&t&&(_.Sb(0,"div",0),_.Sb(1,"div",1),_.Sb(2,"div",2),_.Sb(3,"mat-form-field",3),_.Sb(4,"mat-label"),_.zc(5,"Pesquisar"),_.Rb(),_.Sb(6,"input",4),_.Zb("keyup",(function(t){return e.applyFilter(t.target.value)})),_.Rb(),_.Sb(7,"mat-icon",5),_.zc(8,"search"),_.Rb(),_.Sb(9,"mat-hint"),_.zc(10,"Exemplo: Em andamento"),_.Rb(),_.Rb(),_.Rb(),_.Sb(11,"div",6),_.Sb(12,"button",7),_.Sb(13,"i",8),_.zc(14,"add"),_.Rb(),_.Rb(),_.Rb(),_.Rb(),_.Sb(15,"div",9),_.Sb(16,"div",10),_.Sb(17,"div",11),_.Sb(18,"div",12),_.Sb(19,"h4",13),_.zc(20,"Cota\xe7\xf5es"),_.Rb(),_.Rb(),_.Sb(21,"div",14),_.Sb(22,"div",15),_.Sb(23,"mat-table",16),_.Qb(24,17),_.xc(25,ot,2,0,"mat-header-cell",18),_.xc(26,rt,2,1,"mat-cell",19),_.Pb(),_.Qb(27,20),_.xc(28,lt,2,0,"mat-header-cell",18),_.xc(29,bt,2,1,"mat-cell",21),_.Pb(),_.Qb(30,22),_.xc(31,dt,2,0,"mat-header-cell",18),_.xc(32,st,3,3,"mat-cell",23),_.Pb(),_.Qb(33,24),_.xc(34,mt,2,0,"mat-header-cell",18),_.xc(35,ut,3,3,"mat-cell",25),_.Pb(),_.Qb(36,26),_.xc(37,pt,2,0,"mat-header-cell",18),_.xc(38,ft,3,7,"mat-cell",27),_.Pb(),_.Qb(39,28),_.xc(40,gt,2,0,"mat-header-cell",18),_.xc(41,ht,3,3,"mat-cell",29),_.Pb(),_.Qb(42,30),_.xc(43,St,2,0,"mat-header-cell",18),_.xc(44,_t,3,3,"mat-cell",31),_.Pb(),_.Qb(45,32),_.xc(46,Ct,2,0,"mat-header-cell",33),_.xc(47,Rt,11,0,"mat-cell",34),_.Pb(),_.Qb(48,35),_.xc(49,vt,32,9,"mat-cell",36),_.Pb(),_.xc(50,Mt,1,0,"mat-header-row",37),_.xc(51,Ot,1,0,"mat-row",38),_.xc(52,wt,1,2,"mat-row",39),_.Rb(),_.Rb(),_.Rb(),_.Rb(),_.Rb(),_.Rb(),_.Rb()),2&t&&(_.Bb(12),_.ic("routerLink",_.jc(5,xt)),_.Bb(11),_.ic("dataSource",e.dataSource),_.Bb(27),_.ic("matHeaderRowDef",e.columnsToDisplay),_.Bb(1),_.ic("matRowDefColumns",e.columnsToDisplay),_.Bb(1),_.ic("matRowDefColumns",_.jc(6,Dt)))},directives:[M.b,M.f,O.b,it.a,M.g,M.e,R.b,P.a,c.d,s.j,d.a,s.c,s.e,s.b,s.g,s.i,s.d,d.b,s.a,n.k,s.f,s.h],pipes:[y.a,ct.a],styles:[".main-content[_ngcontent-%COMP%]   .td-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.main-content[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.8rem;letter-spacing:1px}.main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid #ababab}.main-content[_ngcontent-%COMP%]   .table__row.table__row--details[_ngcontent-%COMP%]{height:0;min-height:0;overflow:hidden}@media screen and (max-width:992px){.main-content[_ngcontent-%COMP%]   .table__row.table__row--details.table__row--expanded[_ngcontent-%COMP%]{height:auto}.main-content[_ngcontent-%COMP%]   .table__row.table__row--details.table__row--expanded[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{height:auto;overflow:auto}}@media only screen and (min-width:992px){.main-content[_ngcontent-%COMP%]   .table__row.table__row--details[_ngcontent-%COMP%]{height:auto;min-height:auto;overflow:auto}}.main-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#dedede}@media screen and (max-width:992px){.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{vertical-align:middle;border:0}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1em}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{display:none}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{display:block;min-height:auto}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:not(:last-child){border-bottom:5px solid #ddd}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:50px;margin-bottom:4%;padding:0 1rem;overflow-y:auto;font-size:1em;text-align:right;border-bottom:1px solid #ddd}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:before{float:left;margin-right:1rem;font-weight:700;font-size:.85em;text-transform:uppercase;content:attr(data-label)}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child{margin-top:4%}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-child{margin-bottom:0;border-bottom:0}}"],data:{animation:[Object(b.n)("detailExpand",[Object(b.k)("collapsed",Object(b.l)({height:"0px",minHeight:"0"})),Object(b.k)("expanded",Object(b.l)({height:"*",minHeight:"*"})),Object(b.m)("expanded <=> collapsed",Object(b.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t}()},{path:"criar",component:nt}]}],yt=function(){function t(){}return t.\u0275mod=_.Kb({type:t}),t.\u0275inj=_.Jb({factory:function(e){return new(e||t)},imports:[[c.g.forChild(zt)],c.g]}),t}(),Bt=a("PCNd"),qt=a("oZWX"),kt=function(){function t(){}return t.\u0275mod=_.Kb({type:t}),t.\u0275inj=_.Jb({factory:function(e){return new(e||t)},providers:[qt.a],imports:[[n.c,i.g,o.a,r.a,yt,i.p,c.g,Bt.a]]}),t}()}}]);
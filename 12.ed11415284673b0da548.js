(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"UYr/":function(t,e,a){"use strict";a.r(e),a.d(e,"PricesModule",(function(){return qt}));var n=a("ofXK"),i=a("3Pt+"),c=a("tyNb"),o=a("agfR"),r=a("iTUp"),l=a("mrSG"),b=a("R0Ic"),d=a("Dh3D"),s=a("+0xr"),m=a("wd/R"),u=a("1ua0"),p=a("vglk"),f=a("QMTT"),g=a("IDco"),h=a("RVEH"),_=a("Edqf"),C=a("fXoL"),S=a("0IaG"),P=a("bTqV"),R=a("Qu3c"),M=a("bSwM"),O=a("kmnG"),v=a("qFsG"),w=a("iadO"),y=a("d3UM"),D=a("ihCf"),A=a("FKr1"),x=a("CGfp");function B(t,e){1&t&&(C.Sb(0,"mat-header-cell",36),C.Ac(1,"#"),C.Rb())}function q(t,e){if(1&t&&(C.Sb(0,"mat-cell",37),C.Ac(1),C.Rb()),2&t){var a=e.$implicit;C.Bb(1),C.Cc(" ",a.id," ")}}function k(t,e){1&t&&(C.Sb(0,"mat-header-cell"),C.Ac(1,"Solicitante"),C.Rb())}function E(t,e){if(1&t&&(C.Sb(0,"mat-cell",38),C.Ac(1),C.Rb()),2&t){var a=e.$implicit;C.Bb(1),C.Cc(" ",a.requester.name," ")}}function j(t,e){1&t&&(C.Sb(0,"mat-header-cell",36),C.Ac(1,"Observa\xe7\xe3o"),C.Rb())}function F(t,e){if(1&t&&(C.Sb(0,"mat-cell",39),C.Ac(1),C.Rb()),2&t){var a=e.$implicit;C.Bb(1),C.Cc(" ",a.justification||"-"," ")}}function T(t,e){1&t&&(C.Sb(0,"mat-header-cell",36),C.Ac(1,"Data Requisitada"),C.Rb())}function z(t,e){if(1&t&&(C.Sb(0,"mat-cell",40),C.Ac(1),C.ec(2,"dateFormat"),C.Rb()),2&t){var a=e.$implicit;C.Bb(1),C.Cc(" ",C.fc(2,1,a.requestDate)," ")}}function N(t,e){1&t&&(C.Sb(0,"mat-header-cell",36),C.Ac(1,"Data Desejada"),C.Rb())}function Q(t,e){if(1&t&&(C.Sb(0,"mat-cell",41),C.Ac(1),C.ec(2,"dateFormat"),C.Rb()),2&t){var a=e.$implicit;C.Bb(1),C.Cc(" ",C.fc(2,1,a.desiredDate)," ")}}function $(t,e){1&t&&(C.Sb(0,"mat-header-cell",36),C.Ac(1,"Prioridadade"),C.Rb())}function I(t,e){if(1&t&&(C.Sb(0,"mat-cell",42),C.Sb(1,"span",43),C.Ac(2),C.Rb(),C.Rb()),2&t){var a=e.$implicit,n=C.dc(2);C.Bb(1),C.Eb("badge-success","Baixa"===n.requestPriorityEnums[a.priority])("badge-warning","Alta"===n.requestPriorityEnums[a.priority])("badge-danger","Cr\xedtica"===n.requestPriorityEnums[a.priority]),C.Bb(1),C.Cc(" ",n.requestPriorityEnums[a.priority]," ")}}function L(t,e){1&t&&(C.Sb(0,"mat-header-cell",36),C.Ac(1,"Situa\xe7\xe3o"),C.Rb())}function H(t,e){if(1&t&&(C.Sb(0,"mat-cell",44),C.Sb(1,"span",43),C.Ac(2),C.Rb(),C.Rb()),2&t){var a=e.$implicit,n=C.dc(2);C.Bb(1),C.Eb("badge-success","Aprovada"===n.requestStatusEnums[a.status]),C.Bb(1),C.Cc(" ",n.requestStatusEnums[a.status]," ")}}function G(t,e){1&t&&(C.Sb(0,"mat-header-cell"),C.Ac(1,"A\xe7\xf5es"),C.Rb())}function V(t,e){if(1&t){var a=C.Tb();C.Sb(0,"mat-cell",45),C.Sb(1,"div",46),C.Sb(2,"button",47),C.Zb("click",(function(){C.qc(a);var t=e.$implicit,n=C.dc(2);return n.expandedElement=n.expandedElement===t?null:t})),C.Sb(3,"i",48),C.Ac(4,"table_view"),C.Rb(),C.Rb(),C.Rb(),C.Rb()}}function K(t,e){if(1&t){var a=C.Tb();C.Sb(0,"tr"),C.Sb(1,"td",53),C.Sb(2,"mat-checkbox",54),C.Zb("change",(function(t){C.qc(a);var n=e.$implicit,i=C.dc().$implicit;return C.dc(2).handleMaterialCheck(t.checked,i,n)})),C.Rb(),C.Rb(),C.Sb(3,"td"),C.Ac(4),C.Rb(),C.Sb(5,"td"),C.Ac(6),C.Rb(),C.Sb(7,"td"),C.Ac(8),C.Rb(),C.Sb(9,"td"),C.Ac(10),C.Rb(),C.Sb(11,"td"),C.Ac(12),C.Rb(),C.Rb()}if(2&t){var n=e.$implicit;C.Bb(4),C.Bc(n.id),C.Bb(2),C.Bc(n.description),C.Bb(2),C.Bc(n.unity),C.Bb(2),C.Bc(n.amount),C.Bb(2),C.Bc(n.group.description)}}function U(t,e){if(1&t&&(C.Sb(0,"mat-cell"),C.Sb(1,"div",49),C.Sb(2,"table",50),C.Sb(3,"thead"),C.Sb(4,"tr"),C.Nb(5,"th",51),C.Sb(6,"th",51),C.Ac(7,"#"),C.Rb(),C.Sb(8,"th",51),C.Ac(9,"Material"),C.Rb(),C.Sb(10,"td",51),C.Ac(11,"Tipo de Unidade"),C.Rb(),C.Sb(12,"th",51),C.Ac(13,"Quantidade"),C.Rb(),C.Sb(14,"th",51),C.Ac(15,"Grupo"),C.Rb(),C.Rb(),C.Rb(),C.Sb(16,"tbody"),C.yc(17,K,13,5,"tr",52),C.Rb(),C.Rb(),C.Rb(),C.Rb()),2&t){var a=e.$implicit,n=C.dc(2);C.Cb("colspan",n.columnsToDisplay.length),C.Bb(1),C.ic("@detailExpand",a==n.expandedElement?"expanded":"collapsed"),C.Bb(16),C.ic("ngForOf",a.materials)}}function Z(t,e){1&t&&C.Nb(0,"mat-header-row")}function J(t,e){1&t&&C.Nb(0,"mat-row",55)}function X(t,e){if(1&t&&C.Nb(0,"mat-row",56),2&t){var a=e.$implicit,n=C.dc(2);C.Eb("table__row--expanded",n.expandedElement===a)}}var W=function(){return["expandedRequest"]};function Y(t,e){if(1&t&&(C.Sb(0,"div",11),C.Sb(1,"mat-table",12),C.Qb(2,13),C.yc(3,B,2,0,"mat-header-cell",14),C.yc(4,q,2,1,"mat-cell",15),C.Pb(),C.Qb(5,16),C.yc(6,k,2,0,"mat-header-cell",17),C.yc(7,E,2,1,"mat-cell",18),C.Pb(),C.Qb(8,19),C.yc(9,j,2,0,"mat-header-cell",14),C.yc(10,F,2,1,"mat-cell",20),C.Pb(),C.Qb(11,21),C.yc(12,T,2,0,"mat-header-cell",14),C.yc(13,z,3,3,"mat-cell",22),C.Pb(),C.Qb(14,23),C.yc(15,N,2,0,"mat-header-cell",14),C.yc(16,Q,3,3,"mat-cell",24),C.Pb(),C.Qb(17,25),C.yc(18,$,2,0,"mat-header-cell",14),C.yc(19,I,3,7,"mat-cell",26),C.Pb(),C.Qb(20,27),C.yc(21,L,2,0,"mat-header-cell",14),C.yc(22,H,3,3,"mat-cell",28),C.Pb(),C.Qb(23,29),C.yc(24,G,2,0,"mat-header-cell",17),C.yc(25,V,5,0,"mat-cell",30),C.Pb(),C.Qb(26,31),C.yc(27,U,18,3,"mat-cell",32),C.Pb(),C.yc(28,Z,1,0,"mat-header-row",33),C.yc(29,J,1,0,"mat-row",34),C.yc(30,X,1,2,"mat-row",35),C.Rb(),C.Rb()),2&t){var a=C.dc();C.Bb(1),C.ic("dataSource",a.dataSource),C.Bb(27),C.ic("matHeaderRowDef",a.columnsToDisplay),C.Bb(1),C.ic("matRowDefColumns",a.columnsToDisplay),C.Bb(1),C.ic("matRowDefColumns",C.kc(4,W))}}function tt(t,e){1&t&&(C.Sb(0,"p"),C.Ac(1,"N\xe3o h\xe1 Solicita\xe7\xf5es aprovadas no momento."),C.Rb())}function et(t,e){if(1&t&&(C.Sb(0,"mat-option",70),C.Ac(1),C.Rb()),2&t){var a=e.$implicit;C.ic("value",a),C.Bb(1),C.Cc(" ",a.companyName," ")}}function at(t,e){if(1&t){var a=C.Tb();C.Sb(0,"div",3),C.Sb(1,"div",57),C.Sb(2,"h4",5),C.Ac(3,"Passo 02"),C.Rb(),C.Sb(4,"p",6),C.Ac(5,"Escolha suas prefer\xeancias"),C.Rb(),C.Rb(),C.Sb(6,"div",7),C.Sb(7,"form",58),C.Zb("submit",(function(){return C.qc(a),C.dc().createPriceMaterial()})),C.Sb(8,"div",1),C.Sb(9,"div",59),C.Sb(10,"mat-form-field",60),C.Sb(11,"mat-label"),C.Ac(12,"Data de entrega desejada"),C.Rb(),C.Nb(13,"input",61),C.Nb(14,"mat-datepicker-toggle",62),C.Nb(15,"mat-datepicker",null,63),C.Rb(),C.Rb(),C.Sb(17,"div",59),C.Sb(18,"mat-form-field",60),C.Sb(19,"mat-label"),C.Ac(20,"Fornecedores"),C.Rb(),C.Sb(21,"mat-select",64),C.yc(22,et,2,2,"mat-option",65),C.Rb(),C.Rb(),C.Rb(),C.Sb(23,"div",2),C.Sb(24,"mat-form-field",60),C.Sb(25,"mat-label"),C.Ac(26,"Observa\xe7\xf5es"),C.Rb(),C.Sb(27,"textarea",66,67),C.Ac(29,"                                    "),C.Rb(),C.Rb(),C.Rb(),C.Rb(),C.Sb(30,"div",1),C.Sb(31,"div",68),C.Sb(32,"button",69),C.Ac(33,"Enviar"),C.Rb(),C.Rb(),C.Rb(),C.Rb(),C.Rb(),C.Rb()}if(2&t){var n=C.oc(16),i=C.dc();C.Bb(7),C.ic("formGroup",i.priceForm),C.Bb(6),C.ic("min",i.minDate)("matDatepicker",n),C.Bb(1),C.ic("for",n),C.Bb(8),C.ic("ngForOf",i.providersList),C.Bb(10),C.ic("disabled",i.priceForm.invalid)}}var nt=function(){function t(t,e,a,n,c,o){this._dialog=t,this._loadingService=e,this.fb=a,this._requestService=n,this._priceService=c,this._providerService=o,this.columnsToDisplay=["id","requester","justification","requestDate","desiredDate","priority","status","actions"],this.dataSource=new s.o,this.requestPriorityEnums=_.c,this.requestStatusEnums=_.d,this.minDate=new Date,this.providersList=[],this.selectedMaterials=[],this.priceForm=this.fb.group({deadlineDate:["",i.r.required],description:[""],providers:["",i.r.required]})}return t.prototype.ngOnInit=function(){this._setRequestsList(),this._setProvidersList()},t.prototype.ngAfterViewInit=function(){this.dataSource.sort=this.sort},t.prototype.ngOnDestroy=function(){this.requestSubscription&&this.requestSubscription.unsubscribe()},t.prototype.applyFilter=function(t){this.dataSource.filter=t.trim().toLocaleLowerCase()},t.prototype.handleMaterialCheck=function(t,e,a){if(t){var n=Object(l.c)(e,["materials"]),i={material:a,request:Object(l.a)({},n)};this.selectedMaterials.push(i)}else{var c=this.selectedMaterials.findIndex((function(t){return t.material.id===a.id&&t.request.id===e.id}));this.selectedMaterials.splice(c,1)}},t.prototype.createPriceMaterial=function(){var t=this;this._loadingService.show();var e=[],a=this.priceForm.value,n=a.description,i=a.providers,c={deadlineDate:m(a.deadlineDate).format(),description:n,id:this._priceService.getLastPriceId()+1,requestDate:m().format(),status:"WAITING"};this.selectedMaterials.map((function(t){i.map((function(a){e.push({material:t.material,priceId:c.id,provider:a,request:t.request})}))})),setTimeout((function(){t.selectedMaterials=[],t._clearForm(),t._giveFeedback(),t._priceService.setNewPrices(c),t._priceService.setNewPricesMaterials(e),t._loadingService.hide()}),2e3)},t.prototype._setRequestsList=function(){var t=this;this._requestService.fetchRequests(),this.requestSubscription=this._requestService.requests.subscribe((function(e){if(!(e.length<=0)){var a=e.filter((function(t){return"APPROVED"===t.status}));t.dataSource=new s.o(a)}}))},t.prototype._setProvidersList=function(){var t=this;this._providerService.fetchProviders(),this.providerSubscription=this._providerService.providers.subscribe((function(e){e.length<=0||(t.providersList=e)}))},t.prototype._giveFeedback=function(){this._dialog.open(u.b,{data:{title:"Cota\xe7\xe3o criada com sucesso!",description:"Clique em OK para conferir sua nova cota\xe7\xe3o.",routeToRedirect:"/cotacoes"}})},t.prototype._clearForm=function(){this.priceForm.reset()},t.\u0275fac=function(e){return new(e||t)(C.Mb(S.b),C.Mb(p.a),C.Mb(i.d),C.Mb(h.a),C.Mb(f.a),C.Mb(g.a))},t.\u0275cmp=C.Gb({type:t,selectors:[["app-create"]],viewQuery:function(t,e){var a;1&t&&C.Dc(d.a,!0),2&t&&C.nc(a=C.ac())&&(e.sort=a.first)},decls:14,vars:3,consts:[[1,"main-content"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-category"],[1,"card-body"],["class","table table-responsive mat-elevation-z8",4,"ngIf","ngIfElse"],["feedback",""],["class","card",4,"ngIf"],[1,"table","table-responsive","mat-elevation-z8"],["matSortDisableClear","","matSortActive","id","matSortDirection","asc","multiTemplateDataRows","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["data-label","#",4,"matCellDef"],["matColumnDef","requester"],[4,"matHeaderCellDef"],["data-label","Solicitante",4,"matCellDef"],["matColumnDef","justification"],["data-label","Observa\xe7\xe3o",4,"matCellDef"],["matColumnDef","requestDate"],["data-label","Data Requisitada",4,"matCellDef"],["matColumnDef","desiredDate"],["data-label","Data Desejada",4,"matCellDef"],["matColumnDef","priority"],["data-label","Prioridade",4,"matCellDef"],["matColumnDef","status"],["data-label","Situa\xe7\xe3o",4,"matCellDef"],["matColumnDef","actions"],["class","td-actions text-center","data-label","A\xe7\xf5es",4,"matCellDef"],["matColumnDef","expandedRequest"],[4,"matCellDef"],[4,"matHeaderRowDef"],["class","table__row",4,"matRowDef","matRowDefColumns"],["class","table__row table__row--details",3,"table__row--expanded",4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],["data-label","#"],["data-label","Solicitante"],["data-label","Observa\xe7\xe3o"],["data-label","Data Requisitada"],["data-label","Data Desejada"],["data-label","Prioridade"],[1,"badge"],["data-label","Situa\xe7\xe3o"],["data-label","A\xe7\xf5es",1,"td-actions","text-center"],[1,"btn-group"],["mat-raised-button","","matTooltip","Visualizar Materiais","rel","tooltip","type","button",1,"btn","btn-info",3,"click"],[1,"material-icons"],[1,"example-element-detail"],[1,"table","table-responsive","table--expanded"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[3,"change"],[1,"table__row"],[1,"table__row","table__row--details"],[1,"card-header","card-header-warning"],[3,"formGroup","submit"],[1,"col-12","col-md-6"],["appearance","outline"],["formControlName","deadlineDate","matInput","","required","","readonly","",3,"min","matDatepicker"],["matSuffix","",3,"for"],["picker",""],["formControlName","providers","required","","multiple",""],[3,"value",4,"ngFor","ngForOf"],["cdkAutosizeMaxRows","5","cdkAutosizeMinRows","1","cdkTextareaAutosize","","formControlName","description","matInput","","maxlength","80"],["autosize","cdkTextareaAutosize"],[1,"col-12","offset-md-10","col-md-2"],["mat-raised-button","","color","primary","type","submit",1,"btn-block",3,"disabled"],[3,"value"]],template:function(t,e){if(1&t&&(C.Sb(0,"div",0),C.Sb(1,"div",1),C.Sb(2,"div",2),C.Sb(3,"div",3),C.Sb(4,"div",4),C.Sb(5,"h4",5),C.Ac(6,"Passo 01"),C.Rb(),C.Sb(7,"p",6),C.Ac(8,"Selecione os materiais desejados"),C.Rb(),C.Rb(),C.Sb(9,"div",7),C.yc(10,Y,31,5,"div",8),C.yc(11,tt,2,0,"ng-template",null,9,C.zc),C.Rb(),C.Rb(),C.Rb(),C.Rb(),C.yc(13,at,34,6,"div",10),C.Rb()),2&t){var a=C.oc(12);C.Bb(10),C.ic("ngIf",e.dataSource.data.length>0)("ngIfElse",a),C.Bb(3),C.ic("ngIf",e.selectedMaterials.length>0)}},directives:[n.l,s.n,d.a,s.c,s.i,s.b,s.k,s.m,s.h,d.b,s.a,P.b,R.a,n.k,M.a,s.j,s.l,i.s,i.m,i.f,O.c,O.g,i.c,v.b,w.b,i.l,i.e,i.q,w.d,O.h,w.a,y.a,D.b,i.h,A.n],pipes:[x.a],styles:[".main-content[_ngcontent-%COMP%]   .td-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.main-content[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.8rem;letter-spacing:1px}.main-content[_ngcontent-%COMP%]   .badge.badge--large[_ngcontent-%COMP%]{width:100%;font-size:1.5rem}@media only screen and (min-width:992px){.main-content[_ngcontent-%COMP%]   .badge.badge--large[_ngcontent-%COMP%]{margin-top:.2rem;padding:.8rem 0}}.main-content[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{padding:1rem 0;font-weight:400;font-size:1rem}.main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid #ababab}.main-content[_ngcontent-%COMP%]   .table__row.table__row--details[_ngcontent-%COMP%]{height:0;min-height:0;overflow:hidden}@media screen and (max-width:992px){.main-content[_ngcontent-%COMP%]   .table__row.table__row--details.table__row--expanded[_ngcontent-%COMP%]{height:auto}.main-content[_ngcontent-%COMP%]   .table__row.table__row--details.table__row--expanded[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{height:auto;overflow:auto}}@media only screen and (min-width:992px){.main-content[_ngcontent-%COMP%]   .table__row.table__row--details[_ngcontent-%COMP%]{height:auto;min-height:auto;overflow:auto}}.main-content[_ngcontent-%COMP%]   .table__row.table__row--disabled[_ngcontent-%COMP%]{background-color:#dedede}.main-content[_ngcontent-%COMP%]   .table__row[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{max-width:135px}.main-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#dedede}@media screen and (max-width:992px){.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{vertical-align:middle;border:0}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1em}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{display:none}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{display:block;min-height:auto}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:not(:last-child){border-bottom:5px solid #ddd}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:50px;margin-bottom:4%;padding:0 1rem;overflow-y:auto;font-size:1em;text-align:right;border-bottom:1px solid #ddd}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:before{float:left;margin-right:1rem;font-weight:700;font-size:.85em;text-transform:uppercase;content:attr(data-label)}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child{margin-top:4%}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-child{margin-bottom:0;border-bottom:0}}"],data:{animation:[Object(b.n)("detailExpand",[Object(b.k)("collapsed",Object(b.l)({height:"0px",minHeight:"0"})),Object(b.k)("expanded",Object(b.l)({height:"*",minHeight:"*"})),Object(b.m)("expanded <=> collapsed",Object(b.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t}(),it=a("NFeN"),ct=a("EbQt");function ot(t,e){1&t&&(C.Sb(0,"mat-header-cell",40),C.Ac(1,"#"),C.Rb())}function rt(t,e){if(1&t&&(C.Sb(0,"mat-cell",41),C.Ac(1),C.Rb()),2&t){var a=e.$implicit;C.Bb(1),C.Cc(" ",a.id," ")}}function lt(t,e){1&t&&(C.Sb(0,"mat-header-cell",40),C.Ac(1,"Observa\xe7\xe3o"),C.Rb())}function bt(t,e){if(1&t&&(C.Sb(0,"mat-cell",42),C.Ac(1),C.Rb()),2&t){var a=e.$implicit;C.Bb(1),C.Cc(" ",a.description," ")}}function dt(t,e){1&t&&(C.Sb(0,"mat-header-cell",40),C.Ac(1,"Criado em"),C.Rb())}function st(t,e){if(1&t&&(C.Sb(0,"mat-cell",43),C.Ac(1),C.ec(2,"dateFormat"),C.Rb()),2&t){var a=e.$implicit;C.Bb(1),C.Cc(" ",C.fc(2,1,a.requestDate)," ")}}function mt(t,e){1&t&&(C.Sb(0,"mat-header-cell",40),C.Ac(1,"Data Desejada"),C.Rb())}function ut(t,e){if(1&t&&(C.Sb(0,"mat-cell",44),C.Ac(1),C.ec(2,"dateFormat"),C.Rb()),2&t){var a=e.$implicit;C.Bb(1),C.Cc(" ",C.fc(2,1,a.deadlineDate)," ")}}function pt(t,e){1&t&&(C.Sb(0,"mat-header-cell",40),C.Ac(1,"Situa\xe7\xe3o"),C.Rb())}function ft(t,e){if(1&t&&(C.Sb(0,"mat-cell",45),C.Sb(1,"span",46),C.Ac(2),C.Rb(),C.Rb()),2&t){var a=e.$implicit,n=C.dc();C.Bb(1),C.Eb("badge-warning","Em cota\xe7\xe3o"===n.priceStatusEnum[a.status])("badge-danger","Cancelado"===n.priceStatusEnum[a.status])("badge-success","Conclu\xeddo"===n.priceStatusEnum[a.status]||"Respondido"===n.priceStatusEnum[a.status]),C.Bb(1),C.Cc(" ",n.priceStatusEnum[a.status]," ")}}function gt(t,e){1&t&&(C.Sb(0,"mat-header-cell",40),C.Ac(1,"Respondido em"),C.Rb())}function ht(t,e){if(1&t&&(C.Sb(0,"mat-cell",47),C.Ac(1),C.ec(2,"dateFormat"),C.Rb()),2&t){var a=e.$implicit;C.Bb(1),C.Cc(" ",C.fc(2,1,a.responseDate)," ")}}function _t(t,e){1&t&&(C.Sb(0,"mat-header-cell",40),C.Ac(1,"Prazo sugerido"),C.Rb())}function Ct(t,e){if(1&t&&(C.Sb(0,"mat-cell",48),C.Ac(1),C.ec(2,"dateFormat"),C.Rb()),2&t){var a=e.$implicit;C.Bb(1),C.Cc(" ",C.fc(2,1,a.suggestedDate)," ")}}function St(t,e){1&t&&(C.Sb(0,"mat-header-cell"),C.Ac(1,"A\xe7\xf5es"),C.Rb())}function Pt(t,e){if(1&t){var a=C.Tb();C.Sb(0,"mat-cell",49),C.Sb(1,"div",50),C.Sb(2,"button",51),C.Zb("click",(function(){C.qc(a);var t=e.$implicit,n=C.dc();return n.expandedElement=n.expandedElement===t?null:t})),C.Sb(3,"i",8),C.Ac(4,"table_view"),C.Rb(),C.Rb(),C.Rb(),C.Rb()}}function Rt(t,e){if(1&t&&(C.Sb(0,"tr"),C.Sb(1,"td",56),C.Ac(2),C.Rb(),C.Sb(3,"td"),C.Ac(4),C.Rb(),C.Sb(5,"td"),C.Ac(6),C.Rb(),C.Sb(7,"td"),C.Ac(8),C.ec(9,"currencyBrl"),C.Rb(),C.Sb(10,"td"),C.Ac(11),C.ec(12,"currencyBrl"),C.Rb(),C.Rb()),2&t){var a=e.$implicit;C.Bb(2),C.Bc(a.provider.companyName),C.Bb(2),C.Bc(a.material.description),C.Bb(2),C.Bc(a.material.amount),C.Bb(2),C.Bc(C.fc(9,5,a.unityPrice)),C.Bb(3),C.Cc("",C.fc(12,7,a.unityPrice*a.material.amount)," ")}}function Mt(t,e){if(1&t&&(C.Sb(0,"mat-cell"),C.Sb(1,"div"),C.Sb(2,"table",52),C.Sb(3,"thead"),C.Sb(4,"tr"),C.Sb(5,"th",53),C.Ac(6,"Fornecedor"),C.Rb(),C.Sb(7,"th",53),C.Ac(8,"Material"),C.Rb(),C.Sb(9,"th",53),C.Ac(10,"Quantidade"),C.Rb(),C.Sb(11,"th",53),C.Ac(12,"Pre\xe7o Unit\xe1rio"),C.Rb(),C.Sb(13,"th",53),C.Ac(14,"Subtotal"),C.Rb(),C.Rb(),C.Rb(),C.Sb(15,"tbody"),C.yc(16,Rt,13,9,"tr",54),C.Rb(),C.Sb(17,"tfoot"),C.Sb(18,"tr"),C.Sb(19,"th",55),C.Sb(20,"strong"),C.Ac(21,"Frete"),C.Rb(),C.Rb(),C.Sb(22,"td"),C.Ac(23),C.ec(24,"currencyBrl"),C.Rb(),C.Sb(25,"th",56),C.Sb(26,"strong"),C.Ac(27,"TOTAL"),C.Rb(),C.Rb(),C.Sb(28,"td"),C.Sb(29,"strong"),C.Ac(30),C.ec(31,"currencyBrl"),C.Rb(),C.Rb(),C.Rb(),C.Rb(),C.Rb(),C.Rb(),C.Rb()),2&t){var a=e.$implicit,n=C.dc();C.Cb("colspan",n.columnsToDisplay.length),C.Bb(1),C.ic("@detailExpand",a==n.expandedElement?"expanded":"collapsed"),C.Bb(15),C.ic("ngForOf",n.getMaterialsPrices(a.id)),C.Bb(7),C.Bc(C.fc(24,5,a.fare)),C.Bb(7),C.Bc(C.fc(31,7,n.getTotalPrice(a.id)+a.fare))}}function Ot(t,e){1&t&&C.Nb(0,"mat-header-row")}function vt(t,e){1&t&&C.Nb(0,"mat-row",57)}function wt(t,e){if(1&t&&C.Nb(0,"mat-row",58),2&t){var a=e.$implicit,n=C.dc();C.Eb("table__row--expanded",n.expandedElement===a)}}var yt=function(){return["/cotacoes/criar"]},Dt=function(){return["expandedMaterialPrice"]},At=[{path:"",component:u.c,children:[{path:"",component:function(){function t(t){this._priceService=t,this.dataSource=new s.o,this.columnsToDisplay=["id","description","requestDate","deadline","status","responseDate","suggestedDate","actions"],this.priceStatusEnum=_.b,this.pricesMaterialsList=[]}return t.prototype.ngOnInit=function(){this._setPricesList()},t.prototype.ngAfterViewInit=function(){this.dataSource.sort=this.sort},t.prototype.ngOnDestroy=function(){this.pricesSubscription&&this.pricesSubscription.unsubscribe(),this.pricesMaterialSubscription&&this.pricesMaterialSubscription.unsubscribe()},t.prototype.applyFilter=function(t){this.dataSource.filter=t.trim().toLocaleLowerCase()},t.prototype.getMaterialsPrices=function(t){return this.pricesMaterialsList.filter((function(e){return e.priceId===t}))},t.prototype.getTotalPrice=function(t){var e=0;return this.getMaterialsPrices(t).map((function(t){t.unityPrice&&(e+=Number(t.material.amount)*Number(t.unityPrice))})),e},t.prototype._setPricesList=function(){var t=this;this._priceService.fetchPrices(),this.pricesSubscription=this._priceService.prices.subscribe((function(e){e.length<=0||(t.dataSource=new s.o(e))})),this.pricesMaterialSubscription=this._priceService.pricesMaterials.subscribe((function(e){e.length<=0||(t.pricesMaterialsList=e)}))},t.\u0275fac=function(e){return new(e||t)(C.Mb(f.a))},t.\u0275cmp=C.Gb({type:t,selectors:[["app-dashboard"]],viewQuery:function(t,e){var a;1&t&&C.Dc(d.a,!0),2&t&&C.nc(a=C.ac())&&(e.sort=a.first)},decls:53,vars:7,consts:[[1,"main-content"],[1,"row","justify-content-between"],[1,"col-12","col-md-3"],["appearance","outline"],["matInput","","placeholder","Observa\xe7\xe3o, Situa\xe7\xe3o",3,"keyup"],["matSuffix",""],[1,"col-12","col-md-3","mr-1","d-flex","justify-content-end"],["color","primary","rel","tooltip","mat-fab","","matTooltip","Criar cota\xe7\xe3o",3,"routerLink"],[1,"material-icons"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-body"],[1,"table","table-responsive","mat-elevation-z8"],["matSortDisableClear","","matSortActive","id","matSortDirection","asc","multiTemplateDataRows","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["data-label","#",4,"matCellDef"],["matColumnDef","description"],["data-label","Observa\xe7\xe3o",4,"matCellDef"],["matColumnDef","requestDate"],["data-label","Criado em",4,"matCellDef"],["matColumnDef","deadline"],["data-label","Data Desejada",4,"matCellDef"],["matColumnDef","status"],["data-label","Situa\xe7\xe3o",4,"matCellDef"],["matColumnDef","responseDate"],["data-label","Respondido em",4,"matCellDef"],["matColumnDef","suggestedDate"],["data-label","Prazo sugerido",4,"matCellDef"],["matColumnDef","actions"],[4,"matHeaderCellDef"],["class","td-actions text-center","data-label","A\xe7\xf5es",4,"matCellDef"],["matColumnDef","expandedMaterialPrice"],[4,"matCellDef"],[4,"matHeaderRowDef"],["class","table__row",4,"matRowDef","matRowDefColumns"],["class","table__row table__row--details",3,"table__row--expanded",4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],["data-label","#"],["data-label","Observa\xe7\xe3o"],["data-label","Criado em"],["data-label","Data Desejada"],["data-label","Situa\xe7\xe3o"],[1,"badge"],["data-label","Respondido em"],["data-label","Prazo sugerido"],["data-label","A\xe7\xf5es",1,"td-actions","text-center"],[1,"btn-group"],["mat-raised-button","","matTooltip","Visualizar Materiais","rel","tooltip","type","button",1,"btn","btn-info",3,"click"],[1,"table","table-responsive","table--expanded"],["scope","col"],[4,"ngFor","ngForOf"],["colspan","2","scope","row"],["scope","row"],[1,"table__row"],[1,"table__row","table__row--details"]],template:function(t,e){1&t&&(C.Sb(0,"div",0),C.Sb(1,"div",1),C.Sb(2,"div",2),C.Sb(3,"mat-form-field",3),C.Sb(4,"mat-label"),C.Ac(5,"Pesquisar"),C.Rb(),C.Sb(6,"input",4),C.Zb("keyup",(function(t){return e.applyFilter(t.target.value)})),C.Rb(),C.Sb(7,"mat-icon",5),C.Ac(8,"search"),C.Rb(),C.Sb(9,"mat-hint"),C.Ac(10,"Exemplo: Em andamento"),C.Rb(),C.Rb(),C.Rb(),C.Sb(11,"div",6),C.Sb(12,"button",7),C.Sb(13,"i",8),C.Ac(14,"add"),C.Rb(),C.Rb(),C.Rb(),C.Rb(),C.Sb(15,"div",9),C.Sb(16,"div",10),C.Sb(17,"div",11),C.Sb(18,"div",12),C.Sb(19,"h4",13),C.Ac(20,"Cota\xe7\xf5es"),C.Rb(),C.Rb(),C.Sb(21,"div",14),C.Sb(22,"div",15),C.Sb(23,"mat-table",16),C.Qb(24,17),C.yc(25,ot,2,0,"mat-header-cell",18),C.yc(26,rt,2,1,"mat-cell",19),C.Pb(),C.Qb(27,20),C.yc(28,lt,2,0,"mat-header-cell",18),C.yc(29,bt,2,1,"mat-cell",21),C.Pb(),C.Qb(30,22),C.yc(31,dt,2,0,"mat-header-cell",18),C.yc(32,st,3,3,"mat-cell",23),C.Pb(),C.Qb(33,24),C.yc(34,mt,2,0,"mat-header-cell",18),C.yc(35,ut,3,3,"mat-cell",25),C.Pb(),C.Qb(36,26),C.yc(37,pt,2,0,"mat-header-cell",18),C.yc(38,ft,3,7,"mat-cell",27),C.Pb(),C.Qb(39,28),C.yc(40,gt,2,0,"mat-header-cell",18),C.yc(41,ht,3,3,"mat-cell",29),C.Pb(),C.Qb(42,30),C.yc(43,_t,2,0,"mat-header-cell",18),C.yc(44,Ct,3,3,"mat-cell",31),C.Pb(),C.Qb(45,32),C.yc(46,St,2,0,"mat-header-cell",33),C.yc(47,Pt,5,0,"mat-cell",34),C.Pb(),C.Qb(48,35),C.yc(49,Mt,32,9,"mat-cell",36),C.Pb(),C.yc(50,Ot,1,0,"mat-header-row",37),C.yc(51,vt,1,0,"mat-row",38),C.yc(52,wt,1,2,"mat-row",39),C.Rb(),C.Rb(),C.Rb(),C.Rb(),C.Rb(),C.Rb(),C.Rb()),2&t&&(C.Bb(12),C.ic("routerLink",C.kc(5,yt)),C.Bb(11),C.ic("dataSource",e.dataSource),C.Bb(27),C.ic("matHeaderRowDef",e.columnsToDisplay),C.Bb(1),C.ic("matRowDefColumns",e.columnsToDisplay),C.Bb(1),C.ic("matRowDefColumns",C.kc(6,Dt)))},directives:[O.c,O.g,v.b,it.a,O.h,O.f,P.b,R.a,c.e,s.n,d.a,s.c,s.i,s.b,s.k,s.m,s.h,d.b,s.a,n.k,s.j,s.l],pipes:[x.a,ct.a],styles:[".main-content[_ngcontent-%COMP%]   .td-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.main-content[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.8rem;letter-spacing:1px}.main-content[_ngcontent-%COMP%]   .badge.badge--large[_ngcontent-%COMP%]{width:100%;font-size:1.5rem}@media only screen and (min-width:992px){.main-content[_ngcontent-%COMP%]   .badge.badge--large[_ngcontent-%COMP%]{margin-top:.2rem;padding:.8rem 0}}.main-content[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{padding:1rem 0;font-weight:400;font-size:1rem}.main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid #ababab}.main-content[_ngcontent-%COMP%]   .table__row.table__row--details[_ngcontent-%COMP%]{height:0;min-height:0;overflow:hidden}@media screen and (max-width:992px){.main-content[_ngcontent-%COMP%]   .table__row.table__row--details.table__row--expanded[_ngcontent-%COMP%]{height:auto}.main-content[_ngcontent-%COMP%]   .table__row.table__row--details.table__row--expanded[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{height:auto;overflow:auto}}@media only screen and (min-width:992px){.main-content[_ngcontent-%COMP%]   .table__row.table__row--details[_ngcontent-%COMP%]{height:auto;min-height:auto;overflow:auto}}.main-content[_ngcontent-%COMP%]   .table__row.table__row--disabled[_ngcontent-%COMP%]{background-color:#dedede}.main-content[_ngcontent-%COMP%]   .table__row[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{max-width:135px}.main-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#dedede}@media screen and (max-width:992px){.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{vertical-align:middle;border:0}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1em}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{display:none}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{display:block;min-height:auto}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:not(:last-child){border-bottom:5px solid #ddd}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:50px;margin-bottom:4%;padding:0 1rem;overflow-y:auto;font-size:1em;text-align:right;border-bottom:1px solid #ddd}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:before{float:left;margin-right:1rem;font-weight:700;font-size:.85em;text-transform:uppercase;content:attr(data-label)}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child{margin-top:4%}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-child{margin-bottom:0;border-bottom:0}}"],data:{animation:[Object(b.n)("detailExpand",[Object(b.k)("collapsed",Object(b.l)({height:"0px",minHeight:"0"})),Object(b.k)("expanded",Object(b.l)({height:"*",minHeight:"*"})),Object(b.m)("expanded <=> collapsed",Object(b.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t}()},{path:"criar",component:nt}]}],xt=function(){function t(){}return t.\u0275mod=C.Kb({type:t}),t.\u0275inj=C.Jb({factory:function(e){return new(e||t)},imports:[[c.h.forChild(At)],c.h]}),t}(),Bt=a("PCNd"),qt=function(){function t(){}return t.\u0275mod=C.Kb({type:t}),t.\u0275inj=C.Jb({factory:function(e){return new(e||t)},imports:[[n.c,i.g,o.a,r.a,xt,i.p,c.h,Bt.a]]}),t}()}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"UYr/":function(t,e,a){"use strict";a.r(e),a.d(e,"PricesModule",(function(){return Et}));var n=a("ofXK"),i=a("3Pt+"),c=a("tyNb"),o=a("agfR"),r=a("iTUp"),l=a("mrSG"),b=a("R0Ic"),d=a("Dh3D"),s=a("+0xr"),m=a("wd/R"),u=a("1ua0"),p=a("IDco"),f=a("RVEH"),g=a("Edqf"),h=a("QMTT"),_=a("vglk"),S=a("fXoL"),C=a("0IaG"),R=a("bTqV"),P=a("Qu3c"),v=a("bSwM"),M=a("kmnG"),O=a("qFsG"),w=a("iadO"),x=a("d3UM"),D=a("ihCf"),z=a("FKr1"),y=a("CGfp");function B(t,e){1&t&&(S.Sb(0,"mat-header-cell",36),S.zc(1,"#"),S.Rb())}function q(t,e){if(1&t&&(S.Sb(0,"mat-cell",37),S.zc(1),S.Rb()),2&t){var a=e.$implicit;S.Bb(1),S.Bc(" ",a.id," ")}}function E(t,e){1&t&&(S.Sb(0,"mat-header-cell"),S.zc(1,"Solicitante"),S.Rb())}function k(t,e){if(1&t&&(S.Sb(0,"mat-cell",38),S.zc(1),S.Rb()),2&t){var a=e.$implicit;S.Bb(1),S.Bc(" ",a.requester.name," ")}}function j(t,e){1&t&&(S.Sb(0,"mat-header-cell",36),S.zc(1,"Observa\xe7\xe3o"),S.Rb())}function F(t,e){if(1&t&&(S.Sb(0,"mat-cell",39),S.zc(1),S.Rb()),2&t){var a=e.$implicit;S.Bb(1),S.Bc(" ",a.justification||"-"," ")}}function T(t,e){1&t&&(S.Sb(0,"mat-header-cell",36),S.zc(1,"Data Requisitada"),S.Rb())}function A(t,e){if(1&t&&(S.Sb(0,"mat-cell",40),S.zc(1),S.ec(2,"dateFormat"),S.Rb()),2&t){var a=e.$implicit;S.Bb(1),S.Bc(" ",S.fc(2,1,a.requestDate)," ")}}function Q(t,e){1&t&&(S.Sb(0,"mat-header-cell",36),S.zc(1,"Data Desejada"),S.Rb())}function $(t,e){if(1&t&&(S.Sb(0,"mat-cell",41),S.zc(1),S.ec(2,"dateFormat"),S.Rb()),2&t){var a=e.$implicit;S.Bb(1),S.Bc(" ",S.fc(2,1,a.desiredDate)," ")}}function N(t,e){1&t&&(S.Sb(0,"mat-header-cell",36),S.zc(1,"Prioridadade"),S.Rb())}function I(t,e){if(1&t&&(S.Sb(0,"mat-cell",42),S.Sb(1,"span",43),S.zc(2),S.Rb(),S.Rb()),2&t){var a=e.$implicit,n=S.dc(2);S.Bb(1),S.Eb("badge-success","Baixa"===n.requestPriorityEnums[a.priority])("badge-warning","Alta"===n.requestPriorityEnums[a.priority])("badge-danger","Cr\xedtica"===n.requestPriorityEnums[a.priority]),S.Bb(1),S.Bc(" ",n.requestPriorityEnums[a.priority]," ")}}function L(t,e){1&t&&(S.Sb(0,"mat-header-cell",36),S.zc(1,"Situa\xe7\xe3o"),S.Rb())}function H(t,e){if(1&t&&(S.Sb(0,"mat-cell",44),S.Sb(1,"span",43),S.zc(2),S.Rb(),S.Rb()),2&t){var a=e.$implicit,n=S.dc(2);S.Bb(1),S.Eb("badge-success","Aprovada"===n.requestStatusEnums[a.status]),S.Bb(1),S.Bc(" ",n.requestStatusEnums[a.status]," ")}}function G(t,e){1&t&&(S.Sb(0,"mat-header-cell"),S.zc(1,"A\xe7\xf5es"),S.Rb())}function V(t,e){if(1&t){var a=S.Tb();S.Sb(0,"mat-cell",45),S.Sb(1,"div",46),S.Sb(2,"button",47),S.Zb("click",(function(){S.pc(a);var t=e.$implicit,n=S.dc(2);return n.expandedElement=n.expandedElement===t?null:t})),S.Sb(3,"i",48),S.zc(4,"table_view"),S.Rb(),S.Rb(),S.Rb(),S.Rb()}}function Z(t,e){if(1&t){var a=S.Tb();S.Sb(0,"tr"),S.Sb(1,"td",53),S.Sb(2,"mat-checkbox",54),S.Zb("change",(function(t){S.pc(a);var n=e.$implicit,i=S.dc().$implicit;return S.dc(2).handleMaterialCheck(t.checked,i,n)})),S.Rb(),S.Rb(),S.Sb(3,"td"),S.zc(4),S.Rb(),S.Sb(5,"td"),S.zc(6),S.Rb(),S.Sb(7,"td"),S.zc(8),S.Rb(),S.Sb(9,"td"),S.zc(10),S.Rb(),S.Sb(11,"td"),S.zc(12),S.Rb(),S.Rb()}if(2&t){var n=e.$implicit;S.Bb(4),S.Ac(n.id),S.Bb(2),S.Ac(n.description),S.Bb(2),S.Ac(n.unity),S.Bb(2),S.Ac(n.amount),S.Bb(2),S.Ac(n.group.description)}}function K(t,e){if(1&t&&(S.Sb(0,"mat-cell"),S.Sb(1,"div",49),S.Sb(2,"table",50),S.Sb(3,"thead"),S.Sb(4,"tr"),S.Nb(5,"th",51),S.Sb(6,"th",51),S.zc(7,"#"),S.Rb(),S.Sb(8,"th",51),S.zc(9,"Material"),S.Rb(),S.Sb(10,"td",51),S.zc(11,"Tipo de Unidade"),S.Rb(),S.Sb(12,"th",51),S.zc(13,"Quantidade"),S.Rb(),S.Sb(14,"th",51),S.zc(15,"Grupo"),S.Rb(),S.Rb(),S.Rb(),S.Sb(16,"tbody"),S.xc(17,Z,13,5,"tr",52),S.Rb(),S.Rb(),S.Rb(),S.Rb()),2&t){var a=e.$implicit,n=S.dc(2);S.Cb("colspan",n.columnsToDisplay.length),S.Bb(1),S.ic("@detailExpand",a==n.expandedElement?"expanded":"collapsed"),S.Bb(16),S.ic("ngForOf",a.materials)}}function U(t,e){1&t&&S.Nb(0,"mat-header-row")}function J(t,e){1&t&&S.Nb(0,"mat-row",55)}function X(t,e){if(1&t&&S.Nb(0,"mat-row",56),2&t){var a=e.$implicit,n=S.dc(2);S.Eb("table__row--expanded",n.expandedElement===a)}}var W=function(){return["expandedRequest"]};function Y(t,e){if(1&t&&(S.Sb(0,"div",11),S.Sb(1,"mat-table",12),S.Qb(2,13),S.xc(3,B,2,0,"mat-header-cell",14),S.xc(4,q,2,1,"mat-cell",15),S.Pb(),S.Qb(5,16),S.xc(6,E,2,0,"mat-header-cell",17),S.xc(7,k,2,1,"mat-cell",18),S.Pb(),S.Qb(8,19),S.xc(9,j,2,0,"mat-header-cell",14),S.xc(10,F,2,1,"mat-cell",20),S.Pb(),S.Qb(11,21),S.xc(12,T,2,0,"mat-header-cell",14),S.xc(13,A,3,3,"mat-cell",22),S.Pb(),S.Qb(14,23),S.xc(15,Q,2,0,"mat-header-cell",14),S.xc(16,$,3,3,"mat-cell",24),S.Pb(),S.Qb(17,25),S.xc(18,N,2,0,"mat-header-cell",14),S.xc(19,I,3,7,"mat-cell",26),S.Pb(),S.Qb(20,27),S.xc(21,L,2,0,"mat-header-cell",14),S.xc(22,H,3,3,"mat-cell",28),S.Pb(),S.Qb(23,29),S.xc(24,G,2,0,"mat-header-cell",17),S.xc(25,V,5,0,"mat-cell",30),S.Pb(),S.Qb(26,31),S.xc(27,K,18,3,"mat-cell",32),S.Pb(),S.xc(28,U,1,0,"mat-header-row",33),S.xc(29,J,1,0,"mat-row",34),S.xc(30,X,1,2,"mat-row",35),S.Rb(),S.Rb()),2&t){var a=S.dc();S.Bb(1),S.ic("dataSource",a.dataSource),S.Bb(27),S.ic("matHeaderRowDef",a.columnsToDisplay),S.Bb(1),S.ic("matRowDefColumns",a.columnsToDisplay),S.Bb(1),S.ic("matRowDefColumns",S.jc(4,W))}}function tt(t,e){1&t&&(S.Sb(0,"p"),S.zc(1,"N\xe3o h\xe1 Solicita\xe7\xf5es aprovadas no momento."),S.Rb())}function et(t,e){if(1&t&&(S.Sb(0,"mat-option",70),S.zc(1),S.Rb()),2&t){var a=e.$implicit;S.ic("value",a),S.Bb(1),S.Bc(" ",a.companyName," ")}}function at(t,e){if(1&t){var a=S.Tb();S.Sb(0,"div",3),S.Sb(1,"div",57),S.Sb(2,"h4",5),S.zc(3,"Passo 02"),S.Rb(),S.Sb(4,"p",6),S.zc(5,"Escolha suas prefer\xeancias"),S.Rb(),S.Rb(),S.Sb(6,"div",7),S.Sb(7,"form",58),S.Zb("submit",(function(){return S.pc(a),S.dc().createPriceMaterial()})),S.Sb(8,"div",1),S.Sb(9,"div",59),S.Sb(10,"mat-form-field",60),S.Sb(11,"mat-label"),S.zc(12,"Data de entrega desejada"),S.Rb(),S.Nb(13,"input",61),S.Nb(14,"mat-datepicker-toggle",62),S.Nb(15,"mat-datepicker",null,63),S.Rb(),S.Rb(),S.Sb(17,"div",59),S.Sb(18,"mat-form-field",60),S.Sb(19,"mat-label"),S.zc(20,"Fornecedores"),S.Rb(),S.Sb(21,"mat-select",64),S.xc(22,et,2,2,"mat-option",65),S.Rb(),S.Rb(),S.Rb(),S.Sb(23,"div",2),S.Sb(24,"mat-form-field",60),S.Sb(25,"mat-label"),S.zc(26,"Observa\xe7\xf5es"),S.Rb(),S.Sb(27,"textarea",66,67),S.zc(29,"                                    "),S.Rb(),S.Rb(),S.Rb(),S.Rb(),S.Sb(30,"div",1),S.Sb(31,"div",68),S.Sb(32,"button",69),S.zc(33,"Enviar"),S.Rb(),S.Rb(),S.Rb(),S.Rb(),S.Rb(),S.Rb()}if(2&t){var n=S.nc(16),i=S.dc();S.Bb(7),S.ic("formGroup",i.priceForm),S.Bb(6),S.ic("min",i.minDate)("matDatepicker",n),S.Bb(1),S.ic("for",n),S.Bb(8),S.ic("ngForOf",i.providersList),S.Bb(10),S.ic("disabled",i.priceForm.invalid)}}var nt=function(){function t(t,e,a,n,c,o){this._dialog=t,this._loadingService=e,this.fb=a,this._requestService=n,this._priceService=c,this._providerService=o,this.columnsToDisplay=["id","requester","justification","requestDate","desiredDate","priority","status","actions"],this.dataSource=new s.o,this.requestPriorityEnums=g.c,this.requestStatusEnums=g.d,this.minDate=new Date,this.providersList=[],this.selectedMaterials=[],this.priceForm=this.fb.group({deadlineDate:["",i.r.required],description:[""],providers:["",i.r.required]})}return t.prototype.ngOnInit=function(){this._setRequestsList(),this._setProvidersList()},t.prototype.ngAfterViewInit=function(){this.dataSource.sort=this.sort},t.prototype.ngOnDestroy=function(){this.requestSubscription&&this.requestSubscription.unsubscribe()},t.prototype.applyFilter=function(t){this.dataSource.filter=t.trim().toLocaleLowerCase()},t.prototype.handleMaterialCheck=function(t,e,a){if(t){var n=Object(l.c)(e,["materials"]),i={material:a,request:Object(l.a)({},n)};this.selectedMaterials.push(i)}else{var c=this.selectedMaterials.findIndex((function(t){return t.material.id===a.id&&t.request.id===e.id}));this.selectedMaterials.splice(c,1)}},t.prototype.createPriceMaterial=function(){var t=this;this._loadingService.show();var e=[],a=this.priceForm.value,n=a.description,i=a.providers,c={deadlineDate:m(a.deadlineDate).format(),description:n,id:this._priceService.getLastPriceId()+1,requestDate:m().format(),status:"WAITING"};this.selectedMaterials.map((function(t){i.map((function(a){e.push({material:t.material,priceId:c.id,provider:a,request:t.request})}))})),setTimeout((function(){t.selectedMaterials=[],t._clearForm(),t._giveFeedback(),t._priceService.setNewPrices(c),t._priceService.setNewPricesMaterials(e),t._loadingService.hide()}),2e3)},t.prototype._setRequestsList=function(){var t=this;this._requestService.fetchRequests(),this.requestSubscription=this._requestService.requests.subscribe((function(e){if(!(e.length<=0)){var a=e.filter((function(t){return"APPROVED"===t.status}));t.dataSource=new s.o(a)}}))},t.prototype._setProvidersList=function(){var t=this;this._providerService.fetchProviders(),this.providerSubscription=this._providerService.providers.subscribe((function(e){e.length<=0||(t.providersList=e)}))},t.prototype._giveFeedback=function(){this._dialog.open(u.a,{data:{title:"Cota\xe7\xe3o criada com sucesso!",description:"Clique em OK para conferir sua nova cota\xe7\xe3o.",routeToRedirect:"/cotacoes"}})},t.prototype._clearForm=function(){this.priceForm.reset()},t.\u0275fac=function(e){return new(e||t)(S.Mb(C.b),S.Mb(_.a),S.Mb(i.d),S.Mb(f.a),S.Mb(h.a),S.Mb(p.a))},t.\u0275cmp=S.Gb({type:t,selectors:[["app-create"]],viewQuery:function(t,e){var a;1&t&&S.Cc(d.a,!0),2&t&&S.mc(a=S.ac())&&(e.sort=a.first)},decls:14,vars:3,consts:[[1,"main-content"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-category"],[1,"card-body"],["class","table table-responsive mat-elevation-z8",4,"ngIf","ngIfElse"],["feedback",""],["class","card",4,"ngIf"],[1,"table","table-responsive","mat-elevation-z8"],["matSortDisableClear","","matSortActive","id","matSortDirection","asc","multiTemplateDataRows","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["data-label","#",4,"matCellDef"],["matColumnDef","requester"],[4,"matHeaderCellDef"],["data-label","Solicitante",4,"matCellDef"],["matColumnDef","justification"],["data-label","Observa\xe7\xe3o",4,"matCellDef"],["matColumnDef","requestDate"],["data-label","Data Requisitada",4,"matCellDef"],["matColumnDef","desiredDate"],["data-label","Data Desejada",4,"matCellDef"],["matColumnDef","priority"],["data-label","Prioridade",4,"matCellDef"],["matColumnDef","status"],["data-label","Situa\xe7\xe3o",4,"matCellDef"],["matColumnDef","actions"],["class","td-actions text-center","data-label","A\xe7\xf5es",4,"matCellDef"],["matColumnDef","expandedRequest"],[4,"matCellDef"],[4,"matHeaderRowDef"],["class","table__row",4,"matRowDef","matRowDefColumns"],["class","table__row table__row--details",3,"table__row--expanded",4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],["data-label","#"],["data-label","Solicitante"],["data-label","Observa\xe7\xe3o"],["data-label","Data Requisitada"],["data-label","Data Desejada"],["data-label","Prioridade"],[1,"badge"],["data-label","Situa\xe7\xe3o"],["data-label","A\xe7\xf5es",1,"td-actions","text-center"],[1,"btn-group"],["mat-raised-button","","matTooltip","Visualizar Materiais","rel","tooltip","type","button",1,"btn","btn-info",3,"click"],[1,"material-icons"],[1,"example-element-detail"],[1,"table","table-responsive","table--expanded"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[3,"change"],[1,"table__row"],[1,"table__row","table__row--details"],[1,"card-header","card-header-warning"],[3,"formGroup","submit"],[1,"col-12","col-md-6"],["appearance","outline"],["formControlName","deadlineDate","matInput","","required","","readonly","",3,"min","matDatepicker"],["matSuffix","",3,"for"],["picker",""],["formControlName","providers","required","","multiple",""],[3,"value",4,"ngFor","ngForOf"],["cdkAutosizeMaxRows","5","cdkAutosizeMinRows","1","cdkTextareaAutosize","","formControlName","description","matInput","","maxlength","80"],["autosize","cdkTextareaAutosize"],[1,"col-12","offset-md-10","col-md-2"],["mat-raised-button","","color","primary","type","submit",1,"btn-block",3,"disabled"],[3,"value"]],template:function(t,e){if(1&t&&(S.Sb(0,"div",0),S.Sb(1,"div",1),S.Sb(2,"div",2),S.Sb(3,"div",3),S.Sb(4,"div",4),S.Sb(5,"h4",5),S.zc(6,"Passo 01"),S.Rb(),S.Sb(7,"p",6),S.zc(8,"Selecione os materiais desejados"),S.Rb(),S.Rb(),S.Sb(9,"div",7),S.xc(10,Y,31,5,"div",8),S.xc(11,tt,2,0,"ng-template",null,9,S.yc),S.Rb(),S.Rb(),S.Rb(),S.Rb(),S.xc(13,at,34,6,"div",10),S.Rb()),2&t){var a=S.nc(12);S.Bb(10),S.ic("ngIf",e.dataSource.data.length>0)("ngIfElse",a),S.Bb(3),S.ic("ngIf",e.selectedMaterials.length>0)}},directives:[n.l,s.n,d.a,s.c,s.i,s.b,s.k,s.m,s.h,d.b,s.a,R.b,P.a,n.k,v.a,s.j,s.l,i.s,i.m,i.f,M.b,M.f,i.c,O.b,w.b,i.l,i.e,i.q,w.d,M.g,w.a,x.a,D.b,i.h,z.n],pipes:[y.a],styles:[".main-content[_ngcontent-%COMP%]   .td-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.main-content[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.8rem;letter-spacing:1px}.main-content[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{padding:1rem 0;font-weight:400;font-size:1rem}.main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid #ababab}.main-content[_ngcontent-%COMP%]   .table__row.table__row--details[_ngcontent-%COMP%]{height:0;min-height:0;overflow:hidden}@media screen and (max-width:992px){.main-content[_ngcontent-%COMP%]   .table__row.table__row--details.table__row--expanded[_ngcontent-%COMP%]{height:auto}.main-content[_ngcontent-%COMP%]   .table__row.table__row--details.table__row--expanded[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{height:auto;overflow:auto}}@media only screen and (min-width:992px){.main-content[_ngcontent-%COMP%]   .table__row.table__row--details[_ngcontent-%COMP%]{height:auto;min-height:auto;overflow:auto}}.main-content[_ngcontent-%COMP%]   .table__row.table__row--disabled[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#dedede}@media screen and (max-width:992px){.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{vertical-align:middle;border:0}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1em}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{display:none}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{display:block;min-height:auto}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:not(:last-child){border-bottom:5px solid #ddd}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:50px;margin-bottom:4%;padding:0 1rem;overflow-y:auto;font-size:1em;text-align:right;border-bottom:1px solid #ddd}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:before{float:left;margin-right:1rem;font-weight:700;font-size:.85em;text-transform:uppercase;content:attr(data-label)}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child{margin-top:4%}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-child{margin-bottom:0;border-bottom:0}}"],data:{animation:[Object(b.n)("detailExpand",[Object(b.k)("collapsed",Object(b.l)({height:"0px",minHeight:"0"})),Object(b.k)("expanded",Object(b.l)({height:"*",minHeight:"*"})),Object(b.m)("expanded <=> collapsed",Object(b.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t}(),it=a("NFeN"),ct=a("EbQt");function ot(t,e){1&t&&(S.Sb(0,"mat-header-cell",40),S.zc(1,"#"),S.Rb())}function rt(t,e){if(1&t&&(S.Sb(0,"mat-cell",41),S.zc(1),S.Rb()),2&t){var a=e.$implicit;S.Bb(1),S.Bc(" ",a.id," ")}}function lt(t,e){1&t&&(S.Sb(0,"mat-header-cell",40),S.zc(1,"Observa\xe7\xe3o"),S.Rb())}function bt(t,e){if(1&t&&(S.Sb(0,"mat-cell",42),S.zc(1),S.Rb()),2&t){var a=e.$implicit;S.Bb(1),S.Bc(" ",a.description," ")}}function dt(t,e){1&t&&(S.Sb(0,"mat-header-cell",40),S.zc(1,"Criado em"),S.Rb())}function st(t,e){if(1&t&&(S.Sb(0,"mat-cell",43),S.zc(1),S.ec(2,"dateFormat"),S.Rb()),2&t){var a=e.$implicit;S.Bb(1),S.Bc(" ",S.fc(2,1,a.requestDate)," ")}}function mt(t,e){1&t&&(S.Sb(0,"mat-header-cell",40),S.zc(1,"Data Desejada"),S.Rb())}function ut(t,e){if(1&t&&(S.Sb(0,"mat-cell",44),S.zc(1),S.ec(2,"dateFormat"),S.Rb()),2&t){var a=e.$implicit;S.Bb(1),S.Bc(" ",S.fc(2,1,a.deadlineDate)," ")}}function pt(t,e){1&t&&(S.Sb(0,"mat-header-cell",40),S.zc(1,"Situa\xe7\xe3o"),S.Rb())}function ft(t,e){if(1&t&&(S.Sb(0,"mat-cell",45),S.Sb(1,"span",46),S.zc(2),S.Rb(),S.Rb()),2&t){var a=e.$implicit,n=S.dc();S.Bb(1),S.Eb("badge-warning","Em cota\xe7\xe3o"===n.priceStatusEnum[a.status])("badge-danger","Cancelado"===n.priceStatusEnum[a.status])("badge-success","Conclu\xeddo"===n.priceStatusEnum[a.status]||"Respondido"===n.priceStatusEnum[a.status]),S.Bb(1),S.Bc(" ",n.priceStatusEnum[a.status]," ")}}function gt(t,e){1&t&&(S.Sb(0,"mat-header-cell",40),S.zc(1,"Respondido em"),S.Rb())}function ht(t,e){if(1&t&&(S.Sb(0,"mat-cell",47),S.zc(1),S.ec(2,"dateFormat"),S.Rb()),2&t){var a=e.$implicit;S.Bb(1),S.Bc(" ",S.fc(2,1,a.responseDate)," ")}}function _t(t,e){1&t&&(S.Sb(0,"mat-header-cell",40),S.zc(1,"Prazo sugerido"),S.Rb())}function St(t,e){if(1&t&&(S.Sb(0,"mat-cell",48),S.zc(1),S.ec(2,"dateFormat"),S.Rb()),2&t){var a=e.$implicit;S.Bb(1),S.Bc(" ",S.fc(2,1,a.suggestedDate)," ")}}function Ct(t,e){1&t&&(S.Sb(0,"mat-header-cell"),S.zc(1,"A\xe7\xf5es"),S.Rb())}function Rt(t,e){if(1&t){var a=S.Tb();S.Sb(0,"mat-cell",49),S.Sb(1,"div",50),S.Sb(2,"button",51),S.Zb("click",(function(){S.pc(a);var t=e.$implicit,n=S.dc();return n.expandedElement=n.expandedElement===t?null:t})),S.Sb(3,"i",8),S.zc(4,"table_view"),S.Rb(),S.Rb(),S.Sb(5,"button",52),S.Sb(6,"i",8),S.zc(7,"edit"),S.Rb(),S.Rb(),S.Sb(8,"button",53),S.Sb(9,"i",8),S.zc(10,"close"),S.Rb(),S.Rb(),S.Rb(),S.Rb()}}function Pt(t,e){if(1&t&&(S.Sb(0,"tr"),S.Sb(1,"td",58),S.zc(2),S.Rb(),S.Sb(3,"td"),S.zc(4),S.Rb(),S.Sb(5,"td"),S.zc(6),S.Rb(),S.Sb(7,"td"),S.zc(8),S.ec(9,"currencyBrl"),S.Rb(),S.Sb(10,"td"),S.zc(11),S.ec(12,"currencyBrl"),S.Rb(),S.Rb()),2&t){var a=e.$implicit;S.Bb(2),S.Ac(a.provider.companyName),S.Bb(2),S.Ac(a.material.description),S.Bb(2),S.Ac(a.material.amount),S.Bb(2),S.Ac(S.fc(9,5,a.unityPrice)),S.Bb(3),S.Bc("",S.fc(12,7,a.unityPrice*a.material.amount)," ")}}function vt(t,e){if(1&t&&(S.Sb(0,"mat-cell"),S.Sb(1,"div"),S.Sb(2,"table",54),S.Sb(3,"thead"),S.Sb(4,"tr"),S.Sb(5,"th",55),S.zc(6,"Fornecedor"),S.Rb(),S.Sb(7,"th",55),S.zc(8,"Material"),S.Rb(),S.Sb(9,"th",55),S.zc(10,"Quantidade"),S.Rb(),S.Sb(11,"th",55),S.zc(12,"Pre\xe7o Unit\xe1rio"),S.Rb(),S.Sb(13,"th",55),S.zc(14,"Subtotal"),S.Rb(),S.Rb(),S.Rb(),S.Sb(15,"tbody"),S.xc(16,Pt,13,9,"tr",56),S.Rb(),S.Sb(17,"tfoot"),S.Sb(18,"tr"),S.Sb(19,"th",57),S.Sb(20,"strong"),S.zc(21,"Frete"),S.Rb(),S.Rb(),S.Sb(22,"td"),S.zc(23),S.ec(24,"currencyBrl"),S.Rb(),S.Sb(25,"th",58),S.Sb(26,"strong"),S.zc(27,"TOTAL"),S.Rb(),S.Rb(),S.Sb(28,"td"),S.Sb(29,"strong"),S.zc(30),S.ec(31,"currencyBrl"),S.Rb(),S.Rb(),S.Rb(),S.Rb(),S.Rb(),S.Rb(),S.Rb()),2&t){var a=e.$implicit,n=S.dc();S.Cb("colspan",n.columnsToDisplay.length),S.Bb(1),S.ic("@detailExpand",a==n.expandedElement?"expanded":"collapsed"),S.Bb(15),S.ic("ngForOf",n.getMaterialsPrices(a.id)),S.Bb(7),S.Ac(S.fc(24,5,a.fare)),S.Bb(7),S.Ac(S.fc(31,7,n.getTotalPrice(a.id)+a.fare))}}function Mt(t,e){1&t&&S.Nb(0,"mat-header-row")}function Ot(t,e){1&t&&S.Nb(0,"mat-row",59)}function wt(t,e){if(1&t&&S.Nb(0,"mat-row",60),2&t){var a=e.$implicit,n=S.dc();S.Eb("table__row--expanded",n.expandedElement===a)}}var xt=function(){return["/cotacoes/criar"]},Dt=function(){return["expandedMaterialPrice"]},zt=[{path:"",component:u.b,children:[{path:"",component:function(){function t(t){this._priceService=t,this.dataSource=new s.o,this.columnsToDisplay=["id","description","requestDate","deadline","status","responseDate","suggestedDate","actions"],this.priceStatusEnum=g.b,this.pricesMaterialsList=[]}return t.prototype.ngOnInit=function(){this._setPricesList()},t.prototype.ngAfterViewInit=function(){this.dataSource.sort=this.sort},t.prototype.ngOnDestroy=function(){this.pricesSubscription&&this.pricesSubscription.unsubscribe(),this.pricesMaterialSubscription&&this.pricesMaterialSubscription.unsubscribe()},t.prototype.applyFilter=function(t){this.dataSource.filter=t.trim().toLocaleLowerCase()},t.prototype.getMaterialsPrices=function(t){return this.pricesMaterialsList.filter((function(e){return e.priceId===t}))},t.prototype.getTotalPrice=function(t){var e=0;return this.getMaterialsPrices(t).map((function(t){e+=t.material.amount*t.unityPrice})),e},t.prototype._setPricesList=function(){var t=this;this._priceService.fetchPrices(),this.pricesSubscription=this._priceService.prices.subscribe((function(e){e.length<=0||(t.dataSource=new s.o(e))})),this.pricesMaterialSubscription=this._priceService.pricesMaterials.subscribe((function(e){e.length<=0||(t.pricesMaterialsList=e)}))},t.\u0275fac=function(e){return new(e||t)(S.Mb(h.a))},t.\u0275cmp=S.Gb({type:t,selectors:[["app-dashboard"]],viewQuery:function(t,e){var a;1&t&&S.Cc(d.a,!0),2&t&&S.mc(a=S.ac())&&(e.sort=a.first)},decls:53,vars:7,consts:[[1,"main-content"],[1,"row","justify-content-between"],[1,"col-12","col-md-3"],["appearance","outline"],["matInput","","placeholder","Observa\xe7\xe3o, Situa\xe7\xe3o",3,"keyup"],["matSuffix",""],[1,"col-12","col-md-3","mr-1","d-flex","justify-content-end"],["color","primary","rel","tooltip","mat-fab","","matTooltip","Criar cota\xe7\xe3o",3,"routerLink"],[1,"material-icons"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-body"],[1,"table","table-responsive","mat-elevation-z8"],["matSortDisableClear","","matSortActive","id","matSortDirection","asc","multiTemplateDataRows","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["data-label","#",4,"matCellDef"],["matColumnDef","description"],["data-label","Observa\xe7\xe3o",4,"matCellDef"],["matColumnDef","requestDate"],["data-label","Criado em",4,"matCellDef"],["matColumnDef","deadline"],["data-label","Data Desejada",4,"matCellDef"],["matColumnDef","status"],["data-label","Situa\xe7\xe3o",4,"matCellDef"],["matColumnDef","responseDate"],["data-label","Respondido em",4,"matCellDef"],["matColumnDef","suggestedDate"],["data-label","Prazo sugerido",4,"matCellDef"],["matColumnDef","actions"],[4,"matHeaderCellDef"],["class","td-actions text-center","data-label","A\xe7\xf5es",4,"matCellDef"],["matColumnDef","expandedMaterialPrice"],[4,"matCellDef"],[4,"matHeaderRowDef"],["class","table__row",4,"matRowDef","matRowDefColumns"],["class","table__row table__row--details",3,"table__row--expanded",4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],["data-label","#"],["data-label","Observa\xe7\xe3o"],["data-label","Criado em"],["data-label","Data Desejada"],["data-label","Situa\xe7\xe3o"],[1,"badge"],["data-label","Respondido em"],["data-label","Prazo sugerido"],["data-label","A\xe7\xf5es",1,"td-actions","text-center"],[1,"btn-group"],["mat-raised-button","","matTooltip","Visualizar Materiais","rel","tooltip","type","button",1,"btn","btn-info",3,"click"],["rel","tooltip","mat-raised-button","","matTooltip","Editar","type","button",1,"btn","btn-warning"],["rel","tooltip","mat-raised-button","","matTooltip","Excluir","type","button",1,"btn","btn-danger"],[1,"table","table-responsive","table--expanded"],["scope","col"],[4,"ngFor","ngForOf"],["colspan","2","scope","row"],["scope","row"],[1,"table__row"],[1,"table__row","table__row--details"]],template:function(t,e){1&t&&(S.Sb(0,"div",0),S.Sb(1,"div",1),S.Sb(2,"div",2),S.Sb(3,"mat-form-field",3),S.Sb(4,"mat-label"),S.zc(5,"Pesquisar"),S.Rb(),S.Sb(6,"input",4),S.Zb("keyup",(function(t){return e.applyFilter(t.target.value)})),S.Rb(),S.Sb(7,"mat-icon",5),S.zc(8,"search"),S.Rb(),S.Sb(9,"mat-hint"),S.zc(10,"Exemplo: Em andamento"),S.Rb(),S.Rb(),S.Rb(),S.Sb(11,"div",6),S.Sb(12,"button",7),S.Sb(13,"i",8),S.zc(14,"add"),S.Rb(),S.Rb(),S.Rb(),S.Rb(),S.Sb(15,"div",9),S.Sb(16,"div",10),S.Sb(17,"div",11),S.Sb(18,"div",12),S.Sb(19,"h4",13),S.zc(20,"Cota\xe7\xf5es"),S.Rb(),S.Rb(),S.Sb(21,"div",14),S.Sb(22,"div",15),S.Sb(23,"mat-table",16),S.Qb(24,17),S.xc(25,ot,2,0,"mat-header-cell",18),S.xc(26,rt,2,1,"mat-cell",19),S.Pb(),S.Qb(27,20),S.xc(28,lt,2,0,"mat-header-cell",18),S.xc(29,bt,2,1,"mat-cell",21),S.Pb(),S.Qb(30,22),S.xc(31,dt,2,0,"mat-header-cell",18),S.xc(32,st,3,3,"mat-cell",23),S.Pb(),S.Qb(33,24),S.xc(34,mt,2,0,"mat-header-cell",18),S.xc(35,ut,3,3,"mat-cell",25),S.Pb(),S.Qb(36,26),S.xc(37,pt,2,0,"mat-header-cell",18),S.xc(38,ft,3,7,"mat-cell",27),S.Pb(),S.Qb(39,28),S.xc(40,gt,2,0,"mat-header-cell",18),S.xc(41,ht,3,3,"mat-cell",29),S.Pb(),S.Qb(42,30),S.xc(43,_t,2,0,"mat-header-cell",18),S.xc(44,St,3,3,"mat-cell",31),S.Pb(),S.Qb(45,32),S.xc(46,Ct,2,0,"mat-header-cell",33),S.xc(47,Rt,11,0,"mat-cell",34),S.Pb(),S.Qb(48,35),S.xc(49,vt,32,9,"mat-cell",36),S.Pb(),S.xc(50,Mt,1,0,"mat-header-row",37),S.xc(51,Ot,1,0,"mat-row",38),S.xc(52,wt,1,2,"mat-row",39),S.Rb(),S.Rb(),S.Rb(),S.Rb(),S.Rb(),S.Rb(),S.Rb()),2&t&&(S.Bb(12),S.ic("routerLink",S.jc(5,xt)),S.Bb(11),S.ic("dataSource",e.dataSource),S.Bb(27),S.ic("matHeaderRowDef",e.columnsToDisplay),S.Bb(1),S.ic("matRowDefColumns",e.columnsToDisplay),S.Bb(1),S.ic("matRowDefColumns",S.jc(6,Dt)))},directives:[M.b,M.f,O.b,it.a,M.g,M.e,R.b,P.a,c.d,s.n,d.a,s.c,s.i,s.b,s.k,s.m,s.h,d.b,s.a,n.k,s.j,s.l],pipes:[y.a,ct.a],styles:[".main-content[_ngcontent-%COMP%]   .td-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.main-content[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.8rem;letter-spacing:1px}.main-content[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{padding:1rem 0;font-weight:400;font-size:1rem}.main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .table.table--expanded[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid #ababab}.main-content[_ngcontent-%COMP%]   .table__row.table__row--details[_ngcontent-%COMP%]{height:0;min-height:0;overflow:hidden}@media screen and (max-width:992px){.main-content[_ngcontent-%COMP%]   .table__row.table__row--details.table__row--expanded[_ngcontent-%COMP%]{height:auto}.main-content[_ngcontent-%COMP%]   .table__row.table__row--details.table__row--expanded[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{height:auto;overflow:auto}}@media only screen and (min-width:992px){.main-content[_ngcontent-%COMP%]   .table__row.table__row--details[_ngcontent-%COMP%]{height:auto;min-height:auto;overflow:auto}}.main-content[_ngcontent-%COMP%]   .table__row.table__row--disabled[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#dedede}@media screen and (max-width:992px){.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{vertical-align:middle;border:0}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1em}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{display:none}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{display:block;min-height:auto}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:not(:last-child){border-bottom:5px solid #ddd}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:50px;margin-bottom:4%;padding:0 1rem;overflow-y:auto;font-size:1em;text-align:right;border-bottom:1px solid #ddd}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:before{float:left;margin-right:1rem;font-weight:700;font-size:.85em;text-transform:uppercase;content:attr(data-label)}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child{margin-top:4%}.main-content[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-child{margin-bottom:0;border-bottom:0}}"],data:{animation:[Object(b.n)("detailExpand",[Object(b.k)("collapsed",Object(b.l)({height:"0px",minHeight:"0"})),Object(b.k)("expanded",Object(b.l)({height:"*",minHeight:"*"})),Object(b.m)("expanded <=> collapsed",Object(b.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t}()},{path:"criar",component:nt}]}],yt=function(){function t(){}return t.\u0275mod=S.Kb({type:t}),t.\u0275inj=S.Jb({factory:function(e){return new(e||t)},imports:[[c.g.forChild(zt)],c.g]}),t}(),Bt=a("PCNd"),qt=a("oZWX"),Et=function(){function t(){}return t.\u0275mod=S.Kb({type:t}),t.\u0275inj=S.Jb({factory:function(e){return new(e||t)},providers:[qt.a],imports:[[n.c,i.g,o.a,r.a,yt,i.p,c.g,Bt.a]]}),t}()}}]);